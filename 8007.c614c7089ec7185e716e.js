"use strict";(self.webpackChunkapplication_services_ui=self.webpackChunkapplication_services_ui||[]).push([[8007],{65154:(e,t,n)=>{n.d(t,{Z:()=>U});var r=n(75418),a=n.n(r),o=n(68199),i=n(78625),c=n(71355),s=n(70655),u=n(19581),l=n(98823),d=n(71987),f=n(23182),m=n(62579),p=n(35145),v=n(16627),h=n(7451),g=n(41970),k=n(99421),_=a().lazy((function(){return n.e(3271).then(n.bind(n,33271))})),b=a().lazy((function(){return Promise.resolve().then(n.bind(n,15447))})),y=a().lazy((function(){return Promise.resolve().then(n.bind(n,29913))})),E=a().lazy((function(){return Promise.resolve().then(n.bind(n,13117))})),P=a().lazy((function(){return Promise.resolve().then(n.bind(n,64765))})),S=a().lazy((function(){return Promise.resolve().then(n.bind(n,62808))})),w=a().lazy((function(){return Promise.resolve().then(n.bind(n,88530))})),A=a().lazy((function(){return Promise.resolve().then(n.bind(n,69372))})),C=a().lazy((function(){return Promise.resolve().then(n.bind(n,91285))})),I=a().lazy((function(){return Promise.resolve().then(n.bind(n,31841))})),T=a().lazy((function(){return n.e(4359).then(n.bind(n,54359))})),R=a().lazy((function(){return Promise.resolve().then(n.bind(n,80140))})),O=a().lazy((function(){return Promise.resolve().then(n.bind(n,44055))})),B=a().lazy((function(){return Promise.resolve().then(n.bind(n,62655))})),x=function(){return a().createElement(o.Redirect,{to:"/streams/kafkas"})},D=[{component:v.aH,label:"Streams for Apache Kafka",path:"/streams/kafkas/:id",title:"Streams for Apache Kafka | Red Hat OpenShift Application Services",basename:"/streams/kafkas/:id",devPreview:!1},{component:x,exact:!0,label:"Streams for Apache Kafka",path:"/streams",title:"Streams for Apache Kafka | Red Hat OpenShift Application Services"},{component:x,exact:!0,label:"Streams for Apache Kafka",path:"/openshift-streams",title:"Streams for Apache Kafka | Red Hat OpenShift Application Services"},{component:w,exact:!0,label:"Streams for Apache Kafka",path:"/streams/kafkas",title:"Streams for Apache Kafka | Red Hat OpenShift Application Services",basename:"/streams/kafkas",devPreview:!1},{component:B,exact:!0,label:"Service Registry",path:"/service-registry",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:E,exact:!0,label:"Service Registry",path:"/service-registry/t/:tenantId",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:E,exact:!0,label:"Service Registry",path:"/service-registry/t/:tenantId/artifacts",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:I,exact:!0,label:"Service Registry",path:"/service-registry/t/:tenantId/rules",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:T,exact:!0,label:"Service Registry",path:"/service-registry/t/:tenantId/roles",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:y,exact:!0,label:"Service Registry",path:"/service-registry/t/:tenantId/artifacts/:groupId/:artifactId",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:P,exact:!0,label:"Service Registry",path:"/service-registry/t/:tenantId/artifacts/:groupId/:artifactId/versions/:version",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:O,exact:!1,label:"COS",path:"/connectors",title:"Connectors | Red Hat OpenShift Application Services",basename:"".concat((0,d.Z)(window.location.pathname),"/connectors"),devPreview:!0},{component:R,exact:!0,label:"Service Accounts",path:"/service-accounts",title:"Service Accounts | Red Hat OpenShift Application Services",devPreview:!1},{component:function(){return a().createElement(o.Redirect,{to:"/service-accounts"})},exact:!0,label:"Service Accounts",path:"/streams/service-accounts",title:"Service Accounts | Red Hat OpenShift Application Services",devPreview:!1},{component:A,exact:!0,label:"Overview",path:"/overview",title:"Overview | Red Hat OpenShift Application Services"},{component:function(){return a().createElement(o.Redirect,{to:"/overview"})},exact:!0,label:"Overview",path:"/",title:"Overview | Red Hat OpenShift Application Services"},{component:b,exact:!0,label:"API Management",path:"/api-management",title:"API Management | Red Hat OpenShift Application Services"},{component:S,exact:!0,label:"Data Science",path:"/data-science",title:"Data Science | Red Hat OpenShift Application Services"},{component:function(){return a().createElement(o.Redirect,{to:"/learning-resources"})},label:"QuickStarts for Red Hat OpenShift Application Services",path:"/streams/resources",title:"QuickStarts for Red Hat OpenShift Application Services",devPreview:!0},{component:C,exact:!0,label:"Learning Resources | Red Hat OpenShift Application Services",path:"/learning-resources",title:"Learning Resources | Red Hat OpenShift Application Services",devPreview:!1}],z=function(e){var t=e.component,n=e.isAsync,r=void 0!==n&&n,i=e.title,c=e.basename,u=e.devPreview,d=(0,s.__rest)(e,["component","isAsync","title","basename","devPreview"]),v=(0,g.useTranslation)().t,_=(0,o.useHistory)();(0,m.bi)(r),(0,p.jr)(i);var b=function(){return c||""},y=function(){return _.push("/")};return a().createElement(o.Route,(0,s.__assign)({render:function(e){return a().createElement(l.ErrorBoundary,{fallbackRender:function(e){return"404"===e.error.message?a().createElement(f.AppServicesPageNotFound,null):a().createElement(f.AppServicesEmptyState,{emptyStateProps:{variant:f.AppServicesEmptyStateVariant.UnexpectedError},emptyStateIconProps:{className:"icon-color"},titleProps:{title:v("common:something_went_wrong")},emptyStateBodyProps:{body:v("common:unexpected_error")}},a().createElement(k.Button,{onClick:y},v("common:return_to_home_page")))}},a().createElement(f.DevelopmentPreview,{show:u},a().createElement(h.BasenameContext.Provider,{value:{getBasename:b}},a().createElement(t,(0,s.__assign)({},d,e)))))}},d))},H=function(){return a().createElement(a().Fragment,null,a().createElement(u.LastLocationProvider,null,a().createElement(a().Suspense,{fallback:a().createElement(f.AppServicesLoading,null)},a().createElement(o.Switch,null,(0,m.SV)(D).map((function(e,t){var n=e.path,r=e.exact,o=e.component,i=e.title,c=e.isAsync,u=(0,s.__rest)(e,["path","exact","component","title","isAsync"]);return a().createElement(z,(0,s.__assign)({path:n,exact:r,component:o,key:t,title:i,isAsync:c},u))})),a().createElement(m.c5,{title:"404 Page Not Found"})))),a().createElement(_,null))},M=n(98307),L=n(86437);const U=(0,i.connect)()((function(){var e=(0,L.pp)(),t=(0,o.useHistory)(),n=function(){var e="overview",n=t.location.pathname.split("/");return n.length>1?""===n[1]?e:"openshift-streams"===n[1]?"streams":n[1]:e};return(0,r.useEffect)((function(){e.chrome.init();var r=n();e.chrome.identifyApp(r);var a=e.chrome.on("APP_NAVIGATION",(function(e){t.push("/".concat(["kafkas","service-accounts","resources"].includes(e.navId)?"streams/":"").concat(e.navId))}));return function(){a()}}),[n,t,e.chrome]),a().createElement(M.Gg,null,a().createElement(c.qJ,null),a().createElement(H,null))}))},85859:(e,t,n)=>{n.d(t,{I:()=>l});var r=n(70655),a=n(75418),o=n.n(a),i=n(7451),c=n(98307),s=n(23182),u=function(){var e=(0,a.useRef)(!1);return(0,a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e};var l=(0,a.memo)((function(e){var t=e.scope,n=e.module,i=e.render,s=e.fallback,l=u(),f=(0,c.N)(),m=f.getModuleInfo,p=f.modules,v=(0,a.useState)(),h=v[0],g=v[1];return(0,a.useEffect)((function(){(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,m(p[t].basePath,t,p[t].fallbackBasePath)];case 1:return e=n.sent(),l.current&&g(e),[2]}}))}))}),[t,p,m,l]),void 0!==h?o().createElement(d,{scope:t,module:n,render:i,moduleInfo:h}):void 0!==s?o().createElement(o().Fragment,null,s):null}));l.displayName="FederatedModule";var d=function(e){var t=e.moduleInfo,a=e.fallback,c=e.scope,l=e.render,d=e.module,f=function(e){var t=u(),n=o().useState(!1),r=n[0],a=n[1],i=o().useState(!1),c=i[0],s=i[1];return o().useEffect((function(){var n;if(t.current){if(!e)return void s(!0);(n=document.createElement("script")).src=e,n.type="text/javascript",n.async=!0,a(!1),s(!1),n.onload=function(){console.log("Dynamic federated module Loaded: ".concat(e)),a(!0)},n.onerror=function(){console.error("Dynamic federated module Error: ".concat(e)),a(!1),s(!0)},document.head.appendChild(n)}return function(){n&&(console.log("Dynamic federated module Removed: ".concat(e)),document.head.removeChild(n))}}),[e]),{ready:r,failed:c}}(t.entryPoint),m=f.ready,p=f.failed;if(m&&!p){var v=o().lazy(function(e,t){var a=this;return function(){return(0,r.__awaiter)(a,void 0,void 0,(function(){var a,o,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.I("default")];case 1:return r.sent(),[4,(a=window[e]).init(n.S.default)];case 2:return r.sent(),[4,a.get(t)];case 3:return o=r.sent(),i=o(),console.debug("loaded ".concat(t," from ").concat(e)),[2,i]}}))}))}}(c,d));return o().createElement(i.AssetsContext.Provider,{value:{getPath:function(){return t.basePath}}},o().createElement(o().Suspense,{fallback:o().createElement(s.AppServicesLoading,null)},l(v)))}return a?o().createElement(o().Fragment,null,a):null}},82436:(e,t,n)=>{n.d(t,{j:()=>u,w:()=>l});var r=n(70655),a=n(75418),o=n.n(a),i=n(19503),c=n(7451),s=n(93664),u=function(){var e=(0,c.useConfig)(),t=(0,c.useAuth)(),n=(0,a.useState)(),o=n[0],u=n[1],l=(0,a.useState)(),d=l[0],f=l[1];return(0,a.useEffect)((function(){(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return void 0===e||void 0===t||void 0===e.rbac.basePath?[3,5]:[4,t.kas.getToken()];case 1:n=r.sent(),a=new s.PrincipalApi({accessToken:n,basePath:null==e?void 0:e.rbac.basePath}),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,a.listPrincipals(-1).then((function(e){return e.data.data.map((function(e){return{id:e.username,principalType:c.PrincipalType.UserAccount,displayName:"".concat(e.first_name," ").concat(e.last_name),emailAddress:e.email}}))}))];case 3:return o=r.sent(),f(o),[3,5];case 4:return r.sent(),[3,5];case 5:return[2]}}))}))}),[t,e]),(0,a.useEffect)((function(){(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return void 0===e||void 0===t||void 0===e.rbac.basePath?[3,3]:[4,t.kas.getToken()];case 1:return n=r.sent(),[4,new i.SecurityApi({accessToken:n,basePath:e.kas.apiBasePath}).getServiceAccounts().then((function(e){return e.data.items.map((function(e){return{id:e.client_id,displayName:e.name,principalType:c.PrincipalType.ServiceAccount}}))}))];case 2:a=r.sent(),u(a),r.label=3;case 3:return[2]}}))}))}),[t,e]),{getAllPrincipals:function(){var e=[];return void 0!==d&&void 0!==o&&(e=e.concat(d)),void 0!==o&&(e=e.concat(o)),e},getAllUserAccounts:function(){return d},getAllServiceAccounts:function(){return o}}},l=function(e){var t=e.children,n=u().getAllPrincipals;return o().createElement(c.PrincipalsContext.Provider,{value:{getAllPrincipals:n}},t)}},98307:(e,t,n)=>{n.d(t,{IG:()=>d.I,Gg:()=>p,oY:()=>u,A6:()=>g,N:()=>v,jg:()=>h.j});var r=n(70655),a=n(75418),o=n.n(a),i=n(7451),c=n(23182),s=n(68199),u=function(e){return o().createElement(d.I,{scope:"kas",module:"./InstanceDrawer",fallback:null,render:function(t){return o().createElement(l,(0,r.__assign)({Component:t},e))}})},l=function(e){var t=e.Component,n=e.renderContent,a=e.kafkaInstance,u=(0,r.__rest)(e,["Component","renderContent","kafkaInstance"]),l=(0,i.useConfig)(),d=(0,s.useHistory)();if(void 0===l)return o().createElement(c.AppServicesLoading,null);var f=(null==l?void 0:l.masSso)||{},m=f.authServerUrl,p=f.realm,v="".concat(m,"/realms/").concat(p,"/protocol/openid-connect/token");return o().createElement(t,(0,r.__assign)({tokenEndPointUrl:v,onDeleteInstance:function(){d.push("/streams/kafkas")},renderContent:function(e){var t=e.closeDrawer,r=e.openDrawer,a=e.setInstance;return n({handleInstanceDrawer:function(e,n){e?r():t()},setInstance:a})},initialInstance:a},u))},d=n(85859),f=function(e,t,n){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var a;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:"fed-mods.json",a=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n="".concat(e,"/").concat("fed-mods.json"),[4,fetch(n)];case 1:return[4,r.sent().json().then((function(e){return e})).then((function(e){return e[t]})).then((function(e){return e.entry[0]})).then((function(t){return t.startsWith(e)?{entryPoint:t,basePath:e}:{entryPoint:"".concat(e).concat(t),basePath:e}}))];case 2:return[2,r.sent()]}}))}))},o.label=1;case 1:return o.trys.push([1,3,,8]),[4,a(e)];case 2:return[2,o.sent()];case 3:if(o.sent(),!n)return[3,7];o.label=4;case 4:return o.trys.push([4,6,,7]),[4,a(n)];case 5:return[2,o.sent()];case 6:return o.sent(),[2,void 0];case 7:return[3,8];case 8:return[2,void 0]}}))}))},m=o().createContext(void 0),p=function(e){var t=e.children,n=(0,a.useRef)({}),s=(0,i.useConfig)();if(void 0===s)return o().createElement(c.AppServicesLoading,null);return o().createElement(m.Provider,{value:{modules:s.federatedModules,getModuleInfo:function(e,t,a){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return void 0!==n.current[t]?[2,n.current[t]]:[4,f(e,t,a)];case 1:return void 0!==(o=r.sent())&&(n.current[t]=o),[2,o]}}))}))}}},t)},v=function(){var e=o().useContext(m);if(void 0===e)throw new Error("must be used inside FederatedModuleContext provider");return e},h=n(82436),g=function(e){var t=e.children;return o().createElement(d.I,{scope:"kas",module:"./KasModalLoader",fallback:null,render:function(e){return o().createElement(e,null,t)}})}},86437:(e,t,n)=>{n.d(t,{aC:()=>k,pp:()=>v,NG:()=>_,UI:()=>p,fA:()=>u});var r,a=n(70655),o=n(75418),i=n(7451),c=n(48668),s=n(84875),u=function(e){var t=(0,i.useConfig)(),n=(0,i.useAuth)(),r=(0,s.t)(),u=(0,o.useState)(),l=u[0],d=u[1];(0,o.useEffect)((function(){(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return l?[3,3]:[4,null==n?void 0:n.ams.getToken()];case 1:return e=r.sent(),[4,new c.AppServicesApi({accessToken:e,basePath:(null==t?void 0:t.ams.apiBasePath)||""}).apiAccountsMgmtV1CurrentAccountGet().then((function(e){var t,n,r=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.organization)||void 0===n?void 0:n.id;d(r)}))];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}),[null==t?void 0:t.ams.apiBasePath,n]);var f=function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var o,s,u,d,f,m,p;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return o={loading:!0,isServiceDown:!1,data:void 0},l?(v=r.kafka.ams.instanceQuotaId,h=r.kafka.ams.trialQuotaId,g=r.serviceRegistry.ams.instanceQuotaId,k=r.serviceRegistry.ams.trialQuotaId,s=(e===i.ProductType.kas?{quotaId:v,trialQuotaId:h,quotaKey:i.QuotaType.kas,trialQuotaKey:i.QuotaType.kasTrial}:e===i.ProductType.srs?{quotaId:g,trialQuotaId:k,quotaKey:i.QuotaType.srs,trialQuotaKey:i.QuotaType.srsTrial}:void 0)||{},u=s.quotaId,d=s.trialQuotaId,f=s.quotaKey,m=s.trialQuotaKey,[4,null==n?void 0:n.ams.getToken()]):[3,3];case 1:return p=a.sent(),[4,new c.AppServicesApi({accessToken:p,basePath:(null==t?void 0:t.ams.apiBasePath)||""}).apiAccountsMgmtV1OrganizationsOrgIdQuotaCostGet(l,void 0,!0).then((function(e){var t,n,r,a,i=new Map,c=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.items)||void 0===n?void 0:n.filter((function(e){return e.quota_id.trim()===u}))[0],s=null===(a=null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.items)||void 0===a?void 0:a.filter((function(e){return e.quota_id.trim()===d}))[0];if(c&&c.allowed>0){var l=(null==c?void 0:c.allowed)-(null==c?void 0:c.consumed);null==i||i.set(f,{allowed:null==c?void 0:c.allowed,consumed:null==c?void 0:c.consumed,remaining:l<0?0:l})}s&&(null==i||i.set(m,{allowed:null==s?void 0:s.allowed,consumed:null==s?void 0:s.consumed,remaining:(null==s?void 0:s.allowed)-(null==s?void 0:s.consumed)})),o.loading=!1,o.data=i})).catch((function(e){o.loading=!1,o.isServiceDown=!0}))];case 2:a.sent(),a.label=3;case 3:return[2,o]}var v,h,g,k}))}))};return(0,o.useMemo)((function(){return{orgId:l,getQuota:f}}),[l,f])},l=n(68199),d=n(87211);!function(e){e[e.IDLE=0]="IDLE",e[e.FETCHING=1]="FETCHING",e[e.FETCHED=2]="FETCHED",e[e.FETCH_ERROR=3]="FETCH_ERROR"}(r||(r={}));var f=function(e,t,n){return{key:"selfTermsReview",fetch:function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var r;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,null==t?void 0:t.ams.getToken()];case 1:return r=a.sent(),[4,new c.AppServicesApi({accessToken:r,basePath:(null==e?void 0:e.ams.apiBasePath)||""}).apiAuthorizationsV1SelfTermsReviewPost({event_code:n.eventCode,site_code:n.siteCode})];case 2:return[2,a.sent()]}}))}))}}},m=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&")},p=function(e){var t=function(e){var t=(0,i.useConfig)(),n=(0,i.useAuth)(),r=(0,o.useRef)(),c=function(){return(0,a.__awaiter)(void 0,void 0,Promise,(function(){var o;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return void 0!==r.current?[2,r.current]:[4,f(t,n,e).fetch().then((function(e){return e.data}))];case 1:return o=a.sent(),r.current=o,[2,o]}}))}))};return(0,o.useEffect)((function(){c()}),[t,n]),c}(e),n=(0,l.useLocation)();return{shouldOpenCreateModal:function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return e=(0,d.parse)(n.search),"true"===e.create?[4,t()]:[3,2];case 1:if(!r.sent().terms_required)return[2,!0];r.label=2;case 2:return[2,!1]}}))}))},preCreateInstance:function(e){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,t()];case 1:if((n=a.sent()).terms_available||n.terms_required){if(void 0===n.redirect_url)throw new Error("terms must be signed but there is no terms url");return r=(0,d.stringifyUrl)({url:window.location.href,query:{create:"true"}}),o=function(e,t,n){var r={redirect:t,cancelRedirect:n};return"".concat(e,"&").concat(m(r))}(n.redirect_url,r,window.location.href),window.location.href=o,[2,!1]}return[2,e]}}))}))}}},v=function(){var e=window.insights;if(void 0===e)throw new Error("must be used inside an initialized insights context");return e},h=n(35145),g=function(e,t){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return n={url:e.masSso.authServerUrl,clientId:e.masSso.clientId,realm:e.masSso.realm},[4,(0,h.Nn)(n,t)];case 1:return[2,r.sent()]}}))}))},k=function(){var e=(0,o.useRef)(),t=(0,i.useConfig)(),n=v();if(void 0===t||void 0===n.chrome.auth)throw new Error("useAuth must be used inside a config provider, and insights auth");var r=n.chrome.auth,c=function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var n,o;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return void 0!==(n=e.current)?[3,2]:[4,g(t,r.getToken)];case 1:return o=a.sent(),e.current=o,[2,o];case 2:return[2,n]}}))}))};(0,o.useEffect)((function(){c()}),[t,r]);var s=function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,c()];case 1:return e=t.sent(),[2,(0,h.hP)(e,r.getToken)]}}))}))},u=r.getToken;return{getUsername:function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,r.getUser()];case 1:return[2,e.sent().identity.user.username]}}))}))},isOrgAdmin:function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,r.getUser()];case 1:return[2,e.sent().identity.user.is_org_admin]}}))}))},kafka:{getToken:s},kas:{getToken:u},ams:{getToken:u},srs:{getToken:u},apicurio_registry:{getToken:s}}},_=function(){var e=(0,i.useConfig)();return{getTokenEndPointUrl:function(){if(e)return(0,h.jW)(e.masSso.authServerUrl,e.masSso.realm)}}}},15447:(e,t,n)=>{n.r(t),n.d(t,{APIManagementOverviewPage:()=>i,default:()=>c});var r=n(75418),a=n.n(r),o=n(23182),i=function(){return a().createElement(o.APIManagementPage,null)};const c=i},44055:(e,t,n)=>{n.r(t),n.d(t,{CosPage:()=>u,default:()=>l});var r=n(98307),a=n(38955),o=n(7451),i=n(75418),c=n.n(i),s=n(23182),u=function(){var e=(0,o.useConfig)();return(null==e?void 0:e.serviceDown)?c().createElement(a.d,null):c().createElement(r.IG,{scope:"cos",fallback:c().createElement(s.AppServicesLoading,null),module:"./OpenshiftManagedConnectors",render:function(e){return c().createElement(e,null)}})};const l=u},62808:(e,t,n)=>{n.r(t),n.d(t,{DataScienceOverViewPage:()=>i,default:()=>c});var r=n(75418),a=n.n(r),o=n(23182),i=function(){return a().createElement(o.DataSciencePage,null)};const c=i},16627:(e,t,n)=>{n.d(t,{cQ:()=>p,PS:()=>B,Jh:()=>m,EP:()=>l,A:()=>f,aH:()=>I,nT:()=>u,Fn:()=>s,dS:()=>d});var r=n(70655),a=n(75418),o=n.n(a),i=n(98307),c=function(e){var t=e.module,n=(0,r.__rest)(e,["module"]);return o().createElement(i.IG,{"data-ouia-app-id":"dataPlane-streams",scope:"kafka",module:t,render:function(e){return o().createElement(e,(0,r.__assign)({},n))}})},s=function(e){return o().createElement(c,(0,r.__assign)({module:"./Topics"},e))},u=function(e){return o().createElement(c,(0,r.__assign)({module:"./TopicDetails"},e))},l=function(e){return o().createElement(c,(0,r.__assign)({module:"./CreateTopic"},e))},d=function(e){return o().createElement(c,(0,r.__assign)({module:"./UpdateTopic"},e))},f=function(e){return o().createElement(c,(0,r.__assign)({module:"./Dashboard"},e))},m=function(e){return o().createElement(c,(0,r.__assign)({module:"./ConsumerGroups"},e))},p=function(e){return o().createElement(c,(0,r.__assign)({module:"./AclPermissions"},e))},v=n(68199),h=n(23173),g=n(19503),k=n(7451),_=function(e){if(void 0===e)throw new Error("kafkaRequest cannot be undefined");return"https://admin-server-".concat(null==e?void 0:e.bootstrap_server_host,"/rest")},b=n(82436),y=n(23182),E=n(63564),P=n(62579),S=n(35145),w=[{component:h.Fn,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/topics",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.nT,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/topics/:topicName",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.EP,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/topic/create",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.dS,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/topic/update/:topicName",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.A,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.A,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/dashboard",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.Jh,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/consumer-groups",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.cQ,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/acls",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0}],A=function(e){var t=e.component,n=e.isAsync,a=void 0!==n&&n,i=e.title,c=e.underlyingProps,s=e.url,u=(0,r.__rest)(e,["component","isAsync","title","underlyingProps","url"]);(0,P.bi)(a),(0,S.jr)(i);var l=function(){return s};return o().createElement(v.Route,(0,r.__assign)({render:function(e){return o().createElement(k.BasenameContext.Provider,{value:{getBasename:l}},o().createElement(t,(0,r.__assign)({},c,u,e)))}},u))},C=(0,a.memo)((function(e){var t=(0,v.useRouteMatch)();return o().createElement(v.Switch,null,(0,P.SV)(w).map((function(n,a){var i=n.path,c=n.exact,s=n.component,u=n.title,l=n.isAsync,d=(0,r.__rest)(n,["path","exact","component","title","isAsync"]),f="".concat(t.path).concat(i);return console.log("Creating route for ".concat(f)),o().createElement(A,(0,r.__assign)({path:f,exact:c,component:s,key:a,title:u,isAsync:l,underlyingProps:e,url:t.url},d))})),o().createElement(P.c5,{title:"404 Page Not Found"}))}));C.displayName="KafkaRoutes";var I=function(){var e=(0,k.useAuth)(),t=(0,v.useHistory)(),n=(0,k.useConfig)(),c=function(){var e=(0,k.useConfig)(),t=(0,k.useAuth)(),n=(0,a.useState)(),o=n[0],i=n[1],c=(0,v.useParams)().id;return(0,a.useEffect)((function(){(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return void 0===t||void 0===e?[2]:[4,t.kas.getToken()];case 1:n=r.sent(),a=new g.DefaultApi({accessToken:n,basePath:e.kas.apiBasePath||""}),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,a.getKafkaById(c)];case 3:return o=r.sent(),i(o.data),[3,5];case 4:return r.sent(),i(!1),[3,5];case 5:return[2]}}))}))}),[t,e,c]),o?{kafkaDetail:o,adminServerUrl:_(o)}:o}(),s=(0,a.useState)(),u=s[0],l=s[1];if(null==n?void 0:n.serviceDown)return o().createElement(h.dB,null);if(void 0===c)return o().createElement(y.AppServicesLoading,null);if(!1===c)throw new Error("404");var d=c.kafkaDetail,f=c.adminServerUrl,m={kafkaPageLink:t.createHref({pathname:"/streams/kafkas"}),kafkaInstanceLink:t.createHref({pathname:"/streams/kafkas/".concat(d.id,"/topics")}),showMetrics:o().createElement(h.PS,{kafkaId:d.id,kafkaAdminUrl:f}),onError:function(e){l(e)},kafkaName:d.name,apiBasePath:f,getToken:null==e?void 0:e.kafka.getToken,showSchemas:o().createElement(E.vJ,null),kafka:d,redirectAfterDeleteInstance:function(){t.push("/streams/kafkas")}};return 401===u?o().createElement(h.Xx,null):o().createElement(b.w,{kafkaInstance:d},o().createElement(i.oY,{"data-ouia-app-id":"dataPlane-streams",kafkaInstance:d,renderContent:function(e){var t=e.handleInstanceDrawer,n=e.setInstance;return o().createElement(C,(0,r.__assign)({handleInstanceDrawer:function(e){n(d),t(e)}},m))}}))};var T=n(93307);function R(e){var t=e.accessToken,n=e.basePath;return(0,r.__awaiter)(this,void 0,Promise,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,new T.TopicsApi(new g.Configuration({accessToken:t,basePath:n})).getTopics(void 0,100,100,void 0,void 0,void 0,void 0)];case 1:return[2,(e.sent().data.items||[]).map((function(e){return e.name}))]}}))}))}function O(e){var t=e.accessToken,n=e.basePath,a=e.kafkaId,o=e.duration,i=e.interval,c=e.selectedTopic;return(0,r.__awaiter)(this,void 0,Promise,(function(){var e,s,u,l,d,f,m,p;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,new g.DefaultApi(new g.Configuration({accessToken:t,basePath:n})).getMetricsByRangeQuery(a,o,i,["kafka_server_brokertopicmetrics_bytes_in_total","kafka_server_brokertopicmetrics_bytes_out_total","kafka_topic:kafka_log_log_size:sum","kafka_server_brokertopicmetrics_messages_in_total"])];case 1:return e=r.sent(),s=(e.data.items||[]).filter((function(e){return!(e.values&&e.metric&&e.metric.topic&&e.metric.name)})),u=s.filter((function(e){var t;return void 0===c||(null===(t=e.metric)||void 0===t?void 0:t.topic)===c})),l=Array.from(new Set(s.map((function(e){return e.metric.topic})))),d={},f={},m={},p={},u.forEach((function(e){var t,n=e.metric,r=n.__name__,a=n.topic;function o(t){e.values.forEach((function(e){var n=e.value,r=e.timestamp;return t[r]=n+(t[r]||0)}))}switch(r){case"kafka_server_brokertopicmetrics_bytes_in_total":o(d);break;case"kafka_server_brokertopicmetrics_bytes_out_total":o(f);break;case"kafka_topic:kafka_log_log_size:sum":t=m[a]||{},e.values.forEach((function(e){var n=e.value,r=e.timestamp;return t[r]=n+(t[r]||0)})),m[a]=t;break;case"kafka_server_brokertopicmetrics_messages_in_total":o(p)}})),[2,{metricsTopics:l,bytesOutgoing:f,bytesIncoming:d,bytesPerPartition:m,incomingMessageRate:p}]}}))}))}var B=function(e){var t=e.kafkaId,n=e.kafkaAdminUrl,i=(0,k.useAuth)(),c=(0,v.useHistory)(),s=(0,k.useConfig)(),u=((0,k.useBasename)()||{}).getBasename,l=u&&u(),d=(0,a.useCallback)((function(e){return function(e){var t=e.kafkaId,n=e.duration,a=e.interval,o=e.accessToken,i=e.basePath;return(0,r.__awaiter)(this,void 0,Promise,(function(){var e,c,s,u,l;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,new g.DefaultApi(new g.Configuration({accessToken:o,basePath:i})).getMetricsByRangeQuery(t,n,a,["kubelet_volume_stats_used_bytes","kafka_namespace:kafka_server_socket_server_metrics_connection_creation_rate:sum","kafka_namespace:kafka_server_socket_server_metrics_connection_count:sum"])];case 1:return e=r.sent(),c=(e.data.items||[]).filter((function(e){return!(e.values&&e.metric&&e.metric.topic&&e.metric.name&&e.metric.persistentvolumeclaim&&e.metric.persistentvolumeclaim.includes("zookeeper"))})),s={},u={},l={},c.forEach((function(e){function t(t){e.values.forEach((function(e){var n=e.value,r=e.timestamp;return t[r]=n+(t[r]||0)}))}switch(e.metric.__name__){case"kubelet_volume_stats_used_bytes":t(s);break;case"kafka_namespace:kafka_server_socket_server_metrics_connection_creation_rate:sum":t(u);break;case"kafka_namespace:kafka_server_socket_server_metrics_connection_count:sum":t(l)}})),[2,{usedDiskSpaceMetrics:s,clientConnectionsMetrics:l,connectionAttemptRateMetrics:u}]}}))}))}((0,r.__assign)((0,r.__assign)({},e),{kafkaId:t,basePath:s.kas.apiBasePath,accessToken:null==i?void 0:i.kas.getToken()}))}),[null==i?void 0:i.kas,s.kas.apiBasePath,t]),f=(0,a.useCallback)((function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var a,o,c,u,l,d,f,m;return(0,r.__generator)(this,(function(p){switch(p.label){case 0:return[4,Promise.all([R({accessToken:null==i?void 0:i.kafka.getToken(),basePath:n}),O((0,r.__assign)((0,r.__assign)({},e),{kafkaId:t,basePath:s.kas.apiBasePath,accessToken:null==i?void 0:i.kas.getToken()}))])];case 1:return a=p.sent(),o=a[0],c=a[1],u=c.metricsTopics,l=c.bytesIncoming,d=c.bytesOutgoing,f=c.bytesPerPartition,m=c.incomingMessageRate,[2,{kafkaTopics:o,metricsTopics:u,bytesIncoming:l,bytesOutgoing:d,bytesPerPartition:f,incomingMessageRate:m}]}}))}))}),[null==i?void 0:i.kafka,null==i?void 0:i.kas,s.kas.apiBasePath,n,t]),m=(0,a.useCallback)((function(){return function(e){var t=e.accessToken,n=e.basePath,a=e.kafkaId;return(0,r.__awaiter)(this,void 0,Promise,(function(){var e,o,i,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=new g.DefaultApi(new g.Configuration({accessToken:t,basePath:n})),o=0,i=0,c=0,[4,e.getMetricsByInstantQuery(a,["kafka_topic:kafka_topic_partitions:sum","kafka_topic:kafka_topic_partitions:count","consumergroup:kafka_consumergroup_members:count"])];case 1:return(r.sent().data.items||[]).forEach((function(e){var t=e.metric,n=e.value;switch(t.__name__){case"kafka_topic:kafka_topic_partitions:sum":i=n;break;case"kafka_topic:kafka_topic_partitions:count":o=n;break;case"consumergroup:kafka_consumergroup_members:count":c=n}})),[2,{consumerGroups:c,topicPartitions:i,topics:o}]}}))}))}({kafkaId:t,basePath:s.kas.apiBasePath,accessToken:null==i?void 0:i.kas.getToken()})}),[null==i?void 0:i.kas,s.kas.apiBasePath,t]);return void 0===s?o().createElement(y.AppServicesLoading,null):o().createElement(y.Metrics,{onCreateTopic:function(){c.push("".concat(l,"/topic/create"))},getTopicsMetrics:f,getKafkaInstanceMetrics:d,getMetricsKpi:m})}},88530:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(75418),a=n.n(r),o=n(7451),i=n(38955),c=n(98307),s=n(86437),u=n(23182),l=n(84875),d=function(e){var t=e.Component,n=(0,o.useConfig)(),r=(0,l.t)(),u=(0,s.fA)(null===o.ProductType||void 0===o.ProductType?void 0:o.ProductType.kas).getQuota,d=(0,s.UI)({eventCode:r.kafka.ams.termsAndConditionsEventCode,siteCode:r.kafka.ams.termsAndConditionsSiteCode}),f=d.preCreateInstance,m=d.shouldOpenCreateModal,p=(0,s.NG)().getTokenEndPointUrl,v=(0,c.jg)().getAllUserAccounts;return(null==n?void 0:n.serviceDown)?a().createElement(i.d,null):a().createElement(o.QuotaContext.Provider,{value:{getQuota:u}},a().createElement(t,{preCreateInstance:f,shouldOpenCreateModal:m,tokenEndPointUrl:p(),getAllUserAccounts:v}))};const f=function(){return a().createElement(c.IG,{scope:"kas",module:"./OpenshiftStreams",fallback:a().createElement(u.AppServicesLoading,null),render:function(e){return a().createElement(d,{Component:e})}})}},45294:(e,t,n)=>{n.r(t),n.d(t,{NotFoundPage:()=>c,default:()=>s});var r=n(75418),a=n(48418),o=n(99421),i=n(68199),c=function(){return r.createElement(o.PageSection,null,r.createElement(o.EmptyState,{variant:"full"},r.createElement(o.EmptyStateIcon,{icon:a.ExclamationTriangleIcon}),r.createElement(o.Title,{headingLevel:"h1",size:"lg"},"404 Page not found"),r.createElement(o.EmptyStateBody,null,"We didn't find a page that matches the address you navigated to."),r.createElement((function(){var e=(0,i.useHistory)();return r.createElement(o.Button,{onClick:function(){e.push("/")}},"Take me home")}),null)))};const s=c},69372:(e,t,n)=>{n.r(t),n.d(t,{ConnectedOverviewPage:()=>i,default:()=>c});var r=n(23182),a=n(75418),o=n.n(a),i=function(){return o().createElement(r.OverviewPage,{toKafkaHref:"/streams/kafkas",toServiceRegistryHref:"/service-registry"})};const c=i},91285:(e,t,n)=>{n.r(t),n.d(t,{ResourcesPage:()=>c,default:()=>s});var r=n(75418),a=n.n(r),o=n(98307),i=n(23182),c=function(){return a().createElement(o.IG,{scope:"guides",module:"./QuickStartCatalog",fallback:a().createElement(i.AppServicesLoading,null),render:function(e){return a().createElement(e,null)}})};const s=c},80140:(e,t,n)=>{n.r(t),n.d(t,{ServiceAccountsPage:()=>u,default:()=>d});var r=n(75418),a=n.n(r),o=n(98307),i=n(7451),c=n(38955),s=n(23182),u=function(){return a().createElement(o.IG,{scope:"kas",module:"./ServiceAccounts",fallback:a().createElement(s.AppServicesLoading,null),render:function(e){return a().createElement(l,{Component:e})}})},l=function(e){var t=e.Component,n=(0,i.useConfig)();return(null==n?void 0:n.serviceDown)?a().createElement(c.d,null):a().createElement(t,null)};const d=u},38955:(e,t,n)=>{n.d(t,{d:()=>s});var r=n(75418),a=n.n(r),o=n(2112),i=n(99421),c=n(41970),s=function(){var e=(0,c.useTranslation)(["appTemporaryFixMe"]).t;return a().createElement(i.PageSection,null,a().createElement(i.EmptyState,{variant:"full"},a().createElement(i.EmptyStateIcon,{icon:o.ZP}),a().createElement(i.Title,{headingLevel:"h1",size:"lg"},e("serviceDown.serviceDownTitle")),a().createElement(i.EmptyStateBody,null,e("serviceDown.serviceDownMessage")),a().createElement(i.Button,{variant:"primary",onClick:function(){window.location.href="https://status.starter.openshift.com/"}},e("serviceDown.serviceDownButton"))))}},64765:(e,t,n)=>{n.r(t),n.d(t,{ArtifactVersionDetails:()=>l,default:()=>f});var r=n(75418),a=n.n(r),o=n(68199),i=n(17631),c=n(48844),s=n(7451),u=n(23173),l=function(){var e=(0,s.useConfig)();return(null==e?void 0:e.serviceDown)?a().createElement(u.dB,null):a().createElement(d,null)},d=function(){var e=(0,o.useParams)().artifactId;return a().createElement(c.q,{breadcrumbId:"srs.artifacts_details",artifactId:e,render:function(e){return a().createElement(i.P,{registry:e,module:"./FederatedArtifactVersionPage"})}})};const f=l},13117:(e,t,n)=>{n.r(t),n.d(t,{Artifacts:()=>u,default:()=>d});var r=n(17631),a=n(75418),o=n.n(a),i=n(48844),c=n(7451),s=n(23173),u=function(){var e=(0,c.useConfig)();return(null==e?void 0:e.serviceDown)?o().createElement(s.dB,null):o().createElement(l,null)},l=function(){return o().createElement(i.q,{breadcrumbId:"srs.artifacts",render:function(e){return o().createElement(r.P,{module:"./FederatedArtifactsPage",registry:e})}})};const d=u},29913:(e,t,n)=>{n.r(t),n.d(t,{ArtifactRedirect:()=>u,default:()=>d});var r=n(17631),a=n(75418),o=n.n(a),i=n(48844),c=n(7451),s=n(23173),u=function(){var e=(0,c.useConfig)();return(null==e?void 0:e.serviceDown)?o().createElement(s.dB,null):o().createElement(l,null)},l=function(){return o().createElement(i.q,{render:function(e){return o().createElement(r.P,{registry:e,module:"./FederatedArtifactRedirectPage"})}})};const d=u},68789:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(75418),a=n.n(r),o=n(17631),i=function(e){var t=e.registry,n=e.downloadLabel;return a().createElement(o.P,{module:"./FederatedDownloadArtifacts",registry:t,fileName:t.name,downloadLinkLabel:n})}},17631:(e,t,n)=>{n.d(t,{P:()=>l});var r=n(70655),a=n(75418),o=n.n(a),i=n(98307),c=n(68199),s=n(7451),u=n(23182),l=function(e){var t=e.module,n=(0,r.__rest)(e,["module"]);return o().createElement(i.IG,{scope:"apicurio_registry",module:t,fallback:o().createElement(u.AppServicesLoading,null),render:function(e){return o().createElement(d,(0,r.__assign)({Component:e},n))}})},d=function(e){var t,n=e.Component,a=e.registry,i=e.principals,l=(0,r.__rest)(e,["Component","registry","principals"]),d=(0,s.useAuth)(),f=(0,s.useConfig)(),m=(0,c.useHistory)(),p=(0,s.useBasename)(),v=null==d?void 0:d.apicurio_registry.getToken,h=(0,c.useParams)(),g=h.groupId,k=h.artifactId,_=h.version;return void 0===f||void 0===a?o().createElement(u.AppServicesLoading,null):v&&p?(t=function(e,t,n,r,a){return{artifacts:{url:"".concat(t,"/apis/registry")},auth:{type:"gettoken",getToken:r},features:{readOnly:!1,breadcrumbs:!1,roleManagement:!0,multiTenant:!0},ui:{navPrefixPath:n},principals:a}}(0,a.registryUrl,"".concat(p.getBasename(),"/t/").concat(null==a?void 0:a.id),v,i),o().createElement(n,(0,r.__assign)({config:t,tenantId:a.id,groupId:g,artifactId:k,version:_,history:m},l))):null}},31841:(e,t,n)=>{n.r(t),n.d(t,{RulesPage:()=>u,default:()=>d});var r=n(17631),a=n(75418),o=n.n(a),i=n(48844),c=n(7451),s=n(23173),u=function(){var e=(0,c.useConfig)();return(null==e?void 0:e.serviceDown)?o().createElement(s.dB,null):o().createElement(l,null)},l=function(){return o().createElement(i.q,{breadcrumbId:"srs.global_rules",render:function(e){return o().createElement(r.P,{registry:e,module:"./FederatedRulesPage"})}})};const d=u},62655:(e,t,n)=>{n.r(t),n.d(t,{ServiceRegistryPage:()=>f,ServiceRegistryPageConnected:()=>m,default:()=>p});var r=n(75418),a=n.n(r),o=n(7451),i=n(98307),c=n(23173),s=n(86437),u=n(23182),l=n(68789),d=n(84875),f=function(){var e=(0,o.useConfig)();return(null==e?void 0:e.serviceDown)?a().createElement(c.dB,null):a().createElement(m,null)},m=function(){var e=(0,o.useConfig)(),t=(0,d.t)(),n=(0,s.fA)(o.ProductType.srs).getQuota,r=(0,s.UI)({eventCode:t.serviceRegistry.ams.termsAndConditionsEventCode,siteCode:t.serviceRegistry.ams.termsAndConditionsSiteCode}),c=r.preCreateInstance,f=r.shouldOpenCreateModal,m=(0,s.NG)().getTokenEndPointUrl;return void 0===e?a().createElement(u.AppServicesLoading,null):a().createElement(u.DevelopmentPreview,null,a().createElement(i.IG,{scope:"srs",module:"./ServiceRegistry",fallback:a().createElement(u.AppServicesLoading,null),render:function(e){return a().createElement(o.QuotaContext.Provider,{value:{getQuota:n}},a().createElement(i.A6,null,a().createElement(e,{preCreateInstance:c,shouldOpenCreateModal:f,tokenEndPointUrl:m(),renderDownloadArtifacts:function(e,t){return a().createElement(l.c,{registry:e,downloadLabel:t})}})))}}))};const p=f},48844:(e,t,n)=>{n.d(t,{q:()=>l});var r=n(70655),a=n(75418),o=n.n(a),i=n(98307),c=n(23182),s=n(86437),u=n(68789),l=function(e){return o().createElement(i.IG,{scope:"srs",module:"./ApicurioRegistry",fallback:o().createElement(c.AppServicesLoading,null),render:function(t){return o().createElement(d,(0,r.__assign)({Component:t},e))}})},d=function(e){var t=e.Component,n=e.render,r=e.breadcrumbId,a=e.artifactId,c=(0,s.NG)().getTokenEndPointUrl;return o().createElement(i.A6,null,o().createElement(t,{render:n,breadcrumbId:r,tokenEndPointUrl:c(),artifactId:a,renderDownloadArtifacts:function(e,t){return o().createElement(u.c,{registry:e,downloadLabel:t})}}))}},63564:(e,t,n)=>{n.d(t,{vJ:()=>u});n(13117),n(29913),n(64765),n(31841),n(62655);var r=n(75418),a=n.n(r),o=n(68199),i=n(17631),c=n(98307),s=n(23182),u=function(){return a().createElement(a().Fragment,null,a().createElement(c.IG,{scope:"srs",module:"./ServiceRegistryMapping",fallback:a().createElement(s.AppServicesLoading,null),render:function(e){return a().createElement(l,{Component:e})}}))},l=function(e){var t=e.Component,n=(0,o.useParams)().topicName,r="/service-registry";return a().createElement(t,{basename:r,topicName:n,renderSchema:function(e){return a().createElement(i.P,{module:"./FederatedSchemaMapping",registry:e,topicName:n,groupId:null,version:"latest",registryId:null==e?void 0:e.id,basename:r})}})}},23173:(e,t,n)=>{n.d(t,{Xx:()=>u,cQ:()=>l.cQ,PS:()=>l.PS,Jh:()=>l.Jh,EP:()=>l.EP,A:()=>l.A,dB:()=>d.d,nT:()=>l.nT,Fn:()=>l.Fn,dS:()=>l.dS});var r=n(75418),a=n.n(r),o=n(84687),i=n(41970),c=n(68199),s=function(e){var t=e.href,n=e.children;return a().createElement(c.Link,{to:t||""},n)},u=function(){var e=(0,i.useTranslation)(["appTemporaryFixMe"]).t,t=a().createElement(i.Trans,{i18nKey:"accessdenied.accessDeniedDescription",t:e,components:[a().createElement(s,{key:"kafkas",href:"/streams/kafkas"})]});return a().createElement(o.Main,null,a().createElement(o.NotAuthorized,{title:e("accessdenied.accessDeniedTitle"),description:t,prevPageButtonText:e("accessdenied.accessDeniedButtonText"),showReturnButton:!0}))},l=(n(15447),n(44055),n(62808),n(16627)),d=(n(88530),n(45294),n(69372),n(91285),n(80140),n(38955));n(63564)},36004:(e,t,n)=>{n.d(t,{N:()=>d});var r=n(70655),a=n(75418),o=n.n(a),i=n(7451);const c=JSON.parse('{"Q":{"kas":{"basePath":"/mas-local-fm/kas","proxyTarget":"http://localhost:9000","fallbackBasePath":"/beta/apps/rhosak-control-plane-ui-build"},"kafka":{"basePath":"/mas-local-fm/kafka","proxyTarget":"http://localhost:8080","fallbackBasePath":"/beta/apps/rhosak-data-plane-ui-build"},"guides":{"basePath":"/mas-local-fm/guides","proxyTarget":"http://localhost:9001","fallbackBasePath":"/beta/apps/rhoas-guides-build"},"apicurio_registry":{"basePath":"/mas-local-fm/apicurio_registry","proxyTarget":"http://localhost:8888","fallbackBasePath":"/beta/apps/sr-ui-build"},"srs":{"basePath":"/mas-local-fm/srs","proxyTarget":"http://localhost:9005","fallbackBasePath":"/beta/apps/srs-ui-build"},"cos":{"basePath":"/mas-local-fm/cos","proxyTarget":"http://localhost:9002","fallbackBasePath":"/beta/apps/cos-ui-build"}},"v":[{"hostnames":["prod.foo.redhat.com"],"fetchConfig":true,"type":"proxy","config":{"serviceDown":false,"guides":{"showDrafts":false},"ams":{"apiBasePath":"https://api.stage.openshift.com"},"kas":{"apiBasePath":"https://api.stage.openshift.com"},"kafka":{},"masSso":{"authServerUrl":"https://identity.api.stage.openshift.com/auth","clientId":"strimzi-ui","realm":"rhoas"},"apicurio_registry":{"apiBasePath":""},"rbac":{"basePath":"/api/rbac/v1"},"srs":{"apiBasePath":"https://api.stage.openshift.com"},"cos":{"apiBasePath":"https://cos-fleet-manager-cos.rh-fuse-153f1de160110098c1928a6c05e19444-0000.eu-de.containers.appdomain.cloud","configurators":{"debezium":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"}}}}},{"hostnames":["qaprodauth.cloud.redhat.com","qaprodauth.console.redhat.com"],"config":{"serviceDown":false,"guides":{"showDrafts":true},"ams":{"apiBasePath":"https://api.stage.openshift.com"},"kas":{"apiBasePath":"https://api.stage.openshift.com"},"kafka":{},"masSso":{"authServerUrl":"https://identity.api.stage.openshift.com/auth","clientId":"strimzi-ui","realm":"rhoas"},"apicurio_registry":{"apiBasePath":""},"srs":{"apiBasePath":"https://api.stage.openshift.com"},"rbac":{"basePath":"/api/rbac/v1"},"cos":{"apiBasePath":"https://cos-fleet-manager-cos.rh-fuse-153f1de160110098c1928a6c05e19444-0000.eu-de.containers.appdomain.cloud","configurators":{"debezium-mongodb-1.9.0.Alpha1":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"},"debezium-mysql-1.9.0.Alpha1":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"},"debezium-postgres-1.9.0.Alpha1":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"}}}}},{"hostnames":["cloud.redhat.com","console.redhat.com"],"config":{"serviceDown":false,"guides":{"showDrafts":false},"ams":{"apiBasePath":"https://api.openshift.com"},"kas":{"apiBasePath":"https://api.openshift.com"},"kafka":{},"masSso":{"authServerUrl":"https://identity.api.openshift.com/auth","clientId":"strimzi-ui","realm":"rhoas"},"apicurio_registry":{"apiBasePath":""},"srs":{"apiBasePath":"https://api.openshift.com"},"rbac":{"basePath":"/api/rbac/v1"},"cos":{"apiBasePath":"https://api.openshift.com","configurators":{"debezium-mongodb-1.9.0.Alpha1":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"},"debezium-mysql-1.9.0.Alpha1":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"},"debezium-postgres-1.9.0.Alpha1":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"}}}}}]}');var s=function(e){var t=window.location.hostname;console.log("Filter config for ".concat(t));var n=e.filter((function(e){return e.hostnames.includes(t)}));if(n.length>1)throw new Error("Unable to find config for ".concat(t,", more than one config matched ").concat(n));if(n.length<1){var r=e.filter((function(e){return e.hostnames.includes("console.redhat.com")}));if(r.length>1)throw new Error("Unable to load default config, more than one config matched ".concat(n));if(r.length<1)throw new Error("Unable to load default config, no configs matched");return r[0]}return n[0]},u=function(e,t,n){var a={};return Object.entries(t).forEach((function(t){var r=t[0],o=t[1],i=o.basePath,c=void 0;"proxy"!==e.type?i=o.fallbackBasePath:c=o.fallbackBasePath,n||(i.startsWith("/beta")&&(i=i.substring(5)),(null==c?void 0:c.startsWith("/beta"))&&(c=c.substring(5))),a[r]={basePath:i,fallbackBasePath:c}})),(0,r.__assign)((0,r.__assign)({},e.config),{federatedModules:a})},l=n(77463),d=function(e){var t=e.children,a=(0,l.gV)().beta,d=o().useState((function(){var e=s(c.v);if(!e.fetchConfig){var t=u(e,c.Q,a);return console.log("Done loading config",t),t}})),f=d[0],m=d[1];return o().useEffect((function(){(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e,t,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return void 0!==f?[3,3]:[4,fetch("".concat(n.p,"config.json"))];case 1:return[4,r.sent().json()];case 2:e=r.sent(),t=s(e.config),o=u(t,e.federatedModules,a),console.debug("Done loading config",o),m(o),r.label=3;case 3:return[2]}}))}))}),[]),o().createElement(i.ConfigContext.Provider,{value:f},t)}},84875:(e,t,n)=>{n.d(t,{A:()=>a,t:()=>o});var r=n(75418),a=n.n(r)().createContext(void 0),o=function(){var e=(0,r.useContext)(a);if(void 0===e)throw new Error("useConstants must be used inside an ServiceConstantsContextProvider");return e}},9933:(e,t,n)=>{n.d(t,{B:()=>c});var r=n(75418),a=n.n(r),o=n(84875);const i=JSON.parse('{"version":1,"kafka":{"ams":{"termsAndConditionsEventCode":"register","termsAndConditionsSiteCode":"ocm","instanceQuotaId":"cluster|rhinfra|rhosak|marketplace","trialQuotaId":"cluster|rhinfra|rhosaktrial|marketplace"}},"serviceRegistry":{"ams":{"termsAndConditionsEventCode":"register","termsAndConditionsSiteCode":"ocm","instanceQuotaId":"cluster|rhinfra|rhosr|any","trialQuotaId":"cluster|rhinfra|rhosrtrial|any"}}}');var c=function(e){var t=e.children;return a().createElement(o.A.Provider,{value:i},t)}},77463:(e,t,n)=>{n.d(t,{gV:()=>i,O1:()=>c});var r=n(75418),a=n.n(r),o=a().createContext(void 0),i=function(){var e=(0,r.useContext)(o);if(void 0===e)throw new Error("useFeatureFlags must be used inside a FeatureFlagContext provider");return e},c=function(e){var t=e.children,n={beta:window.location.pathname.startsWith("/beta")};return a().createElement(o.Provider,{value:n},t)}},68587:(e,t,n)=>{n.d(t,{S1:()=>u});var r,a=n(70655),o=n(39133),i=n(68573),c=n.n(i),s=n(63749);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r||(r=new o.ZP({},(0,a.__spreadArray)([c()],e,!0))).register({notifications:s.ee}),r}},62579:(e,t,n)=>{n.d(t,{bi:()=>d,c5:()=>f,SV:()=>m});var r,a=n(70655),o=n(75418),i=n.n(o),c=n(68199),s=n(35145),u=n(19581),l=i().lazy((function(){return Promise.resolve().then(n.bind(n,45294))})),d=function(e){var t=(0,u.useLastLocation)();i().useEffect((function(){return e||null===t||(r=(0,s.mh)()),function(){window.clearTimeout(r)}}),[e,t])},f=function(e){var t=e.title;return(0,s.jr)(t),i().createElement(c.Route,{component:l})},m=function(e){return e.reduce((function(e,t){return(0,a.__spreadArray)((0,a.__spreadArray)([],e,!0),t.routes?t.routes:[t],!0)}),[])}},71987:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){var t="/",n=e.split("/");return n.shift(),"beta"===n[0]&&(n.shift(),t="/beta/"),"".concat(t).concat(n[0])}},35145:(e,t,n)=>{function r(){return window.setTimeout((function(){var e=document.getElementById("primary-app-container");e&&e.focus()}),50)}n.d(t,{mh:()=>r,jW:()=>E,hP:()=>b,Nn:()=>h,jr:()=>o});var a=n(75418);function o(e){a.useEffect((function(){var t=document.title;return document.title=e,function(){document.title=t}}),[e])}var i=n(70655),c=n(53336),s=n.n(c),u=n(54191),l=n.n(u),d=n(23931),f=n(89053),m=n.n(f),p=n(42902),v="mrt",h=function(e,t){return(0,i.__awaiter)(void 0,void 0,Promise,(function(){var n,r,a,o,c,u,l,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n={responseMode:"query",enableLogging:!1},[4,g(t)];case 1:return void 0===(r=i.sent())||void 0===e.url?[3,6]:(a=E(e.url,e.realm),(o=new URLSearchParams).append("grant_type","refresh_token"),o.append("refresh_token",r),o.append("client_id",e.clientId),[4,fetch(a,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o})]);case 2:return 200!==(c=i.sent()).status?[3,4]:(console.debug("found valid access token"),[4,c.json()]);case 3:return u=i.sent(),l=u.access_token,n.token=l,n.refreshToken=r,[3,5];case 4:console.debug("error getting access token from endpoint"),n.onLoad="login-required",i.label=5;case 5:return[3,7];case 6:new URLSearchParams(window.location.search).has("state")||(console.debug("did not find refresh token, will require a full login"),n.onLoad="login-required"),i.label=7;case 7:return[4,(d=s()(e)).init(n)];case 8:return i.sent(),d.refreshToken?[4,_(d.refreshToken,t)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[2,d]}}))}))},g=function(e){return(0,i.__awaiter)(void 0,void 0,Promise,(function(){var t,n,r,a,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(void 0===(t=l().get(v)))return[2,void 0];n=d.Base64.decode(t),r=JSON.parse(n);try{a=m()(r.refreshToken)}catch(e){return k(),[2,void 0]}return void 0===a||void 0===a.exp||(0,p.Z)(new Date)>a.exp+50?(k(),[2,void 0]):[4,e()];case 1:return o=i.sent(),m()(o).account_id!==r.rhUserId?(k(),[2,void 0]):[2,r.refreshToken]}}))}))},k=function(){console.debug("clearing stored refresh token"),l().remove(v)},_=function(e,t){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,a,o,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,t()];case 1:return n=i.sent(),r=m()(n),a=r.account_id,o=JSON.stringify({refreshToken:e,rhUserId:a}),c=d.Base64.encode(o),console.debug("storing refresh token"),l().set(v,c),[2]}}))}))},b=function(e,t){return(0,i.__awaiter)(void 0,void 0,Promise,(function(){var n,r,a,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.updateToken(50)];case 1:if(i.sent(),!e.token||!e.tokenParsed)throw new Error("No token from keycloak!");return[4,t()];case 2:return n=i.sent(),r=m()(n),a=r.account_id,o=e.tokenParsed["rh-user-id"],a===o?[3,4]:(console.debug("Triggering MASSSO logout because sso.redhat.com account_id claim does not match the MASSSO rh-user-id claim. account_id: ".concat(a,", rh-user-id ").concat(o)),[4,y(e)]);case 3:return i.sent(),[2,""];case 4:return e.refreshToken?[4,_(e.refreshToken,t)]:[3,6];case 5:i.sent(),i.label=6;case 6:return[2,e.token]}}))}))},y=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return e?(console.debug("Performing MASSSO logout"),[4,e.logout()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},E=function(e,t){return"".concat(e,"/realms/").concat(t,"/protocol/openid-connect/token")}}}]);
//# sourceMappingURL=8007.c614c7089ec7185e716e.js.map