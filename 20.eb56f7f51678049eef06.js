(self.webpackChunkapplication_services_ui=self.webpackChunkapplication_services_ui||[]).push([[20],{7154:(e,t,a)=>{"use strict";a.d(t,{Z:()=>ee});var s=a(85893),i=a(93264),n=a(73685),o=a(86706),r=a(71355),c=a(97582),d=a(4511),l=a(53215);function u(e){(0,i.useEffect)((()=>{const t=document.title;return document.title=e,()=>{document.title=t}}),[e])}const p=(0,i.lazy)((()=>Promise.resolve().then(a.bind(a,77745)))),m=({title:e})=>(u(e),(0,s.jsx)(n.Route,{component:p})),h=e=>e.reduce(((e,t)=>[...e,...t.routes?t.routes:[t]]),[]);var f=a(68698);const v=e=>{var{module:t}=e,a=(0,c._T)(e,["module"]);return(0,s.jsx)(f.IG,{"data-ouia-app-id":"dataPlane-streams",scope:"kafka",module:t,render:e=>(0,s.jsx)(e,Object.assign({},a))})},k=e=>(0,s.jsx)(v,Object.assign({module:"./Dashboard"},e));var g=a(55189),b=a(28682),P=a(15847);const y=({href:e,children:t})=>(0,s.jsx)(n.Link,{to:e||"",children:t}),_=()=>{const{t:e}=(0,P.useTranslation)(["appTemporaryFixMe"]),t=(0,s.jsx)(P.Trans,{i18nKey:"accessdenied.accessDeniedDescription",t:e,components:[(0,s.jsx)(y,{href:"/streams/kafkas"},"kafkas")]});return(0,s.jsx)(g.ZP,{children:(0,s.jsx)(b.Z,{title:e("accessdenied.accessDeniedTitle"),description:t,prevPageButtonText:e("accessdenied.accessDeniedButtonText"),showReturnButton:!0})})};a(37272);var w=a(3241),x=a(97644);a(75401),a(44735),a(77745),a(83857),a(60766),a(15822);var S=a(13179);a(85169);var A=a(40493);a(15529);const j=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(f.IG,{scope:"srs",module:"./ServiceRegistryMapping",fallback:(0,s.jsx)(l.AppServicesLoading,{}),render:e=>(0,s.jsx)(C,{Component:e})})}),C=({Component:e})=>{const{topicName:t}=(0,n.useParams)(),a="/service-registry";return(0,s.jsx)(e,{basename:a,topicName:t,renderSchema:e=>(0,s.jsx)(S.P,{module:"./FederatedSchemaMapping",registry:e,topicName:t,groupId:null,version:"latest",registryId:null==e?void 0:e.id,basename:a})})};var T=a(77834);const I=e=>{if(!e)throw new Error("kafkaRequest cannot be undefined");return e.admin_api_server_url?e.admin_api_server_url:void 0},O=()=>{const{kas:{getToken:e}}=(0,x.useAuth)(),{kas:{apiBasePath:t}}=(0,x.useConfig)();return(0,i.useCallback)(((a,s,i,n)=>(0,c.mG)(void 0,void 0,void 0,(function*(){var o,r,c;try{const d=new T.DefaultApi(new T.Configuration({accessToken:e(),basePath:t})),l=yield d.getInstanceTypesByCloudProviderAndRegion(a,s);if(!(null===(o=null==l?void 0:l.data)||void 0===o?void 0:o.instance_types))throw new Error(`getInstanceTypesByCloudProviderAndRegion api failed for ${a} ${s} ${i}, no instance_types returned`);const u=null===(c=null===(r=null==l?void 0:l.data)||void 0===r?void 0:r.instance_types.find((e=>e.id===n)))||void 0===c?void 0:c.sizes,p=null==u?void 0:u.find((e=>e.id===i));if(!p)throw new Error(`getInstanceTypesByCloudProviderAndRegion api failed for ${a} ${s} ${i}, can't find a size matching ${i}`);return p}catch(e){throw new Error(`getInstanceTypesByCloudProviderAndRegion api failed for ${a} ${s} ${i}: ${e}`)}}))),[e,t])};var R=a(25458);const B=h([{component:e=>(0,s.jsx)(v,Object.assign({module:"./Topics"},e)),exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/topics",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:e=>(0,s.jsx)(v,Object.assign({module:"./TopicDetails"},e)),exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/topics/:topicName",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:e=>(0,s.jsx)(v,Object.assign({module:"./CreateTopic"},e)),exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/topic/create",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:e=>(0,s.jsx)(v,Object.assign({module:"./UpdateTopic"},e)),exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/topic/update/:topicName",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:k,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:k,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/dashboard",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:e=>(0,s.jsx)(v,Object.assign({module:"./ConsumerGroups"},e)),exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/consumer-groups",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:e=>(0,s.jsx)(v,Object.assign({module:"./AclPermissions"},e)),exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/acls",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:e=>(0,s.jsx)(v,Object.assign({module:"./Settings"},e)),exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/settings",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0}]),D=e=>{var{component:t,InstanceDrawer:a,isAsync:i=!1,title:o,underlyingProps:r,url:d}=e,l=(0,c._T)(e,["component","InstanceDrawer","isAsync","title","underlyingProps","url"]);u(o);const p=()=>d;return(0,s.jsx)(n.Route,Object.assign({render:e=>(0,s.jsx)(x.BasenameContext.Provider,{value:{getBasename:p},children:(0,s.jsx)(t,Object.assign({},r,l,e))})},l))},E=e=>{var{InstanceDrawer:t}=e,a=(0,c._T)(e,["InstanceDrawer"]);const o=(0,n.useRouteMatch)(),{kafka:r}=a,d=(0,f.fh)(),l=(0,i.useCallback)(((e,t)=>{e?d.openDrawer(t):d.closeDrawer()}),[d]);return(0,s.jsx)(t,Object.assign({"data-ouia-app-id":"dataPlane-streams",drawerInstance:r,setDrawerInstance:()=>!1},d,{children:(0,s.jsxs)(n.Switch,{children:[B.map(((e,i)=>{var{path:n,exact:r,component:d,title:u,isAsync:p}=e,m=(0,c._T)(e,["path","exact","component","title","isAsync"]);const h=`${o.path}${n}`;return console.log(`Creating route for ${h}`),(0,s.jsx)(D,Object.assign({path:h,exact:r,component:d,title:u,isAsync:p,underlyingProps:Object.assign(Object.assign({},a),{handleInstanceDrawer:l}),url:o.url,InstanceDrawer:t},m),i)})),(0,s.jsx)(m,{title:"404 Page Not Found"})]})}))};var H=a(28696);function M({accessToken:e,basePath:t}){return(0,c.mG)(this,void 0,void 0,(function*(){const a=new H.TopicsApi(new T.Configuration({accessToken:e,basePath:t}));return((yield a.getTopics(void 0,100,100,void 0,void 0,void 0,void 0)).data.items||[]).map((e=>e.name))}))}function $({accessToken:e,basePath:t,kafkaId:a,duration:s,interval:i,selectedTopic:n}){return(0,c.mG)(this,void 0,void 0,(function*(){const o=new T.DefaultApi(new T.Configuration({accessToken:e,basePath:t})),r=((yield o.getMetricsByRangeQuery(a,s,i,["kafka_topic:kafka_server_brokertopicmetrics_bytes_in_total:rate5m","kafka_topic:kafka_server_brokertopicmetrics_bytes_out_total:rate5m","kafka_topic:kafka_log_log_size:sum","kafka_topic:kafka_server_brokertopicmetrics_messages_in_total:rate5m"])).data.items||[]).filter((e=>!(e.values&&e.metric&&e.metric.topic&&e.metric.name))),c=r.filter((e=>{var t;return void 0===n||(null===(t=e.metric)||void 0===t?void 0:t.topic)===n})),d=Array.from(new Set(r.map((e=>e.metric.topic)))),l={},u={},p={},m={};return c.forEach((e=>{const{__name__:t,topic:a}=e.metric;function s(t){e.values.forEach((({value:e,timestamp:a})=>t[a]=e+(t[a]||0)))}switch(t){case"kafka_topic:kafka_server_brokertopicmetrics_bytes_in_total:rate5m":s(l);break;case"kafka_topic:kafka_server_brokertopicmetrics_bytes_out_total:rate5m":s(u);break;case"kafka_topic:kafka_log_log_size:sum":!function(){const t=p[a]||{};e.values.forEach((({value:e,timestamp:a})=>t[a]=e+(t[a]||0))),p[a]=t}();break;case"kafka_topic:kafka_server_brokertopicmetrics_messages_in_total:rate5m":s(m)}})),{metricsTopics:d,bytesOutgoing:u,bytesIncoming:l,bytesPerPartition:p,incomingMessageRate:m}}))}const G=({kafkaId:e,owner:t,reauthenticationEnabled:a})=>{const n=(0,x.useAuth)(),o=(0,x.useConfig)(),r=(0,i.useCallback)((a=>function({kafkaId:e,owner:t,settings:a,accessToken:s,basePath:i}){return(0,c.mG)(this,void 0,void 0,(function*(){const n=new T.DefaultApi(new T.Configuration({accessToken:s,basePath:i}));return(yield n.updateKafkaById(e,{owner:t,reauthentication_enabled:a})).data.reauthentication_enabled}))}({kafkaId:e,basePath:o.kas.apiBasePath,accessToken:null==n?void 0:n.kas.getToken(),owner:t,settings:a})),[o.kas.apiBasePath,null==n?void 0:n.kas,t,e]);return(0,s.jsx)(l.Settings,{onSubmitReAuthentication:r,reauthenticationEnabled:a})},z=({kafka:e})=>(0,s.jsx)(R.w,{kafkaInstance:e.kafkaDetail,children:(0,s.jsx)(K,{kafka:e})}),K=({kafka:{kafkaDetail:e,adminServerUrl:t}})=>{const{kafka:{getToken:a}}=(0,x.useAuth)(),o=(0,n.useHistory)(),[r,c]=(0,i.useState)(),d=(0,i.useCallback)((e=>{c(e)}),[]),l=(0,i.useCallback)((()=>{o.push("/streams/kafkas")}),[o]),u=(0,i.useMemo)((()=>{var a;return(0,s.jsx)(N,{kafkaId:e.id,kafkaAdminUrl:t,totalMaxConnections:e.size.total_max_connections||0,maxConnections:e.size.max_connection_attempts_per_sec||0,maxPartitions:e.size.max_partitions||0,kafkaStorageBytes:(null===(a=e.max_data_retention_size)||void 0===a?void 0:a.bytes)||0})}),[t,e]),p=(0,i.useMemo)((()=>(0,s.jsx)(j,{})),[]),m=(0,i.useMemo)((()=>(0,s.jsx)(G,{kafkaId:e.id,owner:e.owner,reauthenticationEnabled:e.reauthentication_enabled})),[e.id,e.owner,e.reauthentication_enabled]),h=(0,i.useMemo)((()=>({kafkaPageLink:"/streams/kafkas",kafkaInstanceLink:`/streams/kafkas/${e.id}/topics`,showMetrics:u,onError:d,kafkaName:e.name,apiBasePath:t,getToken:a,showSchemas:p,kafka:e,redirectAfterDeleteInstance:l,showSettings:m})),[t,a,e,d,l,u,p,m]);return 401===r?(0,s.jsx)(_,{}):(0,s.jsx)(f.IG,{scope:"kas",module:"./InstanceDrawer",fallback:null,render:e=>(0,s.jsx)(E,Object.assign({},h,{InstanceDrawer:e}))})},N=({kafkaId:e,kafkaAdminUrl:t,totalMaxConnections:a,maxConnections:o,maxPartitions:r,kafkaStorageBytes:d})=>{const u=(0,x.useAuth)(),p=(0,n.useHistory)(),m=(0,x.useConfig)(),{getBasename:h}=(0,x.useBasename)()||{},f=h&&h(),v=`metrics-alert-${e}`,[k,g]=(0,i.useState)(null!==localStorage.getItem(v)),b=(0,i.useCallback)((t=>(0,c.mG)(void 0,void 0,void 0,(function*(){const s=yield function({kafkaId:e,duration:t,interval:a,accessToken:s,basePath:i}){return(0,c.mG)(this,void 0,void 0,(function*(){const n=new T.DefaultApi(new T.Configuration({accessToken:s,basePath:i})),o=((yield n.getMetricsByRangeQuery(e,t,a,["kubelet_volume_stats_used_bytes","kafka_namespace:kafka_server_socket_server_metrics_connection_creation_rate:sum","kafka_namespace:kafka_server_socket_server_metrics_connection_count:sum"])).data.items||[]).filter((e=>!(e.values&&e.metric&&e.metric.topic&&e.metric.name&&e.metric.persistentvolumeclaim&&e.metric.persistentvolumeclaim.includes("zookeeper")))),r={},c={},d={};return o.forEach((e=>{const{__name__:t}=e.metric;function a(t){e.values.forEach((({value:e,timestamp:a})=>t[a]=e+(t[a]||0)))}switch(t){case"kubelet_volume_stats_used_bytes":a(r);break;case"kafka_namespace:kafka_server_socket_server_metrics_connection_creation_rate:sum":a(c);break;case"kafka_namespace:kafka_server_socket_server_metrics_connection_count:sum":a(d)}})),{usedDiskSpaceMetrics:r,clientConnectionsMetrics:d,connectionAttemptRateMetrics:c,diskSpaceLimit:0,connectionRateLimit:0,connectionsLimit:0}}))}(Object.assign(Object.assign({},t),{kafkaId:e,basePath:m.kas.apiBasePath,accessToken:null==u?void 0:u.kas.getToken()}));return Object.assign(Object.assign({},s),{diskSpaceLimit:d/1073741824,connectionsLimit:a,connectionRateLimit:o})}))),[u,m,e,d,a,o]),P=(0,i.useCallback)((a=>(0,c.mG)(void 0,void 0,void 0,(function*(){const[s,i]=yield Promise.all([M({accessToken:null==u?void 0:u.kafka.getToken(),basePath:t}),$(Object.assign(Object.assign({},a),{kafkaId:e,basePath:m.kas.apiBasePath,accessToken:null==u?void 0:u.kas.getToken()}))]),{metricsTopics:n,bytesIncoming:o,bytesOutgoing:r,bytesPerPartition:c,incomingMessageRate:d}=i;return{kafkaTopics:s,metricsTopics:n,bytesIncoming:o,bytesOutgoing:r,bytesPerPartition:c,incomingMessageRate:d}}))),[null==u?void 0:u.kafka,null==u?void 0:u.kas,m.kas.apiBasePath,t,e]),y=(0,i.useCallback)((()=>(0,c.mG)(void 0,void 0,void 0,(function*(){const t=yield function({accessToken:e,basePath:t,kafkaId:a}){return(0,c.mG)(this,void 0,void 0,(function*(){const s=new T.DefaultApi(new T.Configuration({accessToken:e,basePath:t}));let i=0,n=0,o=0;return((yield s.getMetricsByInstantQuery(a,["kafka_topic:kafka_topic_partitions:sum","kafka_topic:kafka_topic_partitions:count","consumergroup:kafka_consumergroup_members:count"])).data.items||[]).forEach((({metric:e,value:t})=>{const{__name__:a}=e;switch(a){case"kafka_topic:kafka_topic_partitions:sum":n=t;break;case"kafka_topic:kafka_topic_partitions:count":i=t;break;case"consumergroup:kafka_consumergroup_members:count":o=t}})),{consumerGroups:o,topicPartitions:n,topics:i}}))}({kafkaId:e,basePath:m.kas.apiBasePath,accessToken:null==u?void 0:u.kas.getToken()});return Object.assign(Object.assign({},t),{topicPartitionsLimit:r})}))),[null==u?void 0:u.kas,m.kas.apiBasePath,e,r]);return void 0===m?(0,s.jsx)(l.AppServicesLoading,{}):(0,s.jsx)(l.Metrics,{onCreateTopic:()=>{p.push(`${f}/topic/create`)},getTopicsMetrics:P,getKafkaInstanceMetrics:b,getMetricsKpi:y,isClosed:k,onClickClose:()=>{g(!0),localStorage.setItem(v,"true")}})};var Q=a(47173);const U=(0,i.lazy)((()=>a.e(8571).then(a.bind(a,58571)))),L=(0,i.lazy)((()=>Promise.resolve().then(a.bind(a,37272)))),q=(0,i.lazy)((()=>Promise.resolve().then(a.bind(a,75401)))),F=(0,i.lazy)((()=>a.e(9132).then(a.bind(a,9132)))),V=(0,i.lazy)((()=>Promise.resolve().then(a.bind(a,44735)))),W=()=>(0,s.jsx)(n.Redirect,{to:"/streams/kafkas"}),Z=[{component:()=>(0,s.jsx)(n.Redirect,{to:"/overview"}),exact:!0,label:"Overview",path:"/",title:"Overview | Red Hat OpenShift Application Services"},{component:(0,i.lazy)((()=>Promise.resolve().then(a.bind(a,83857)))),exact:!0,label:"Overview",path:"/overview",title:"Overview | Red Hat OpenShift Application Services"},{component:L,exact:!0,label:"API Management",path:"/api-management",title:"API Management | Red Hat OpenShift Application Services"},{component:q,exact:!0,label:"Data Science",path:"/data-science",title:"Data Science | Red Hat OpenShift Application Services"},{component:(0,i.lazy)((()=>Promise.resolve().then(a.bind(a,60766)))),exact:!0,label:"Learning Resources | Red Hat OpenShift Application Services",path:"/learning-resources",title:"Learning Resources | Red Hat OpenShift Application Services",devPreview:!1},{component:W,exact:!0,label:"Streams for Apache Kafka",path:"/streams",title:"Streams for Apache Kafka | Red Hat OpenShift Application Services"},{component:F,exact:!0,label:"Streams for Apache Kafka",path:"/streams/overview",title:"Overview | Streams for Apache Kafka | Red Hat OpenShift Application Services"},{component:V,exact:!0,label:"Streams for Apache Kafka",path:"/streams/kafkas",title:"Streams for Apache Kafka | Red Hat OpenShift Application Services",basename:"/streams/kafkas",devPreview:!1},{component:()=>(0,s.jsx)(n.Redirect,{to:"/service-accounts"}),exact:!0,label:"Service Accounts",path:"/streams/service-accounts",title:"Service Accounts | Red Hat OpenShift Application Services",devPreview:!1},{component:()=>(0,s.jsx)(n.Redirect,{to:"/learning-resources"}),label:"QuickStarts for Red Hat OpenShift Application Services",path:"/streams/resources",title:"QuickStarts for Red Hat OpenShift Application Services",devPreview:!0},{component:()=>{const e=(0,x.useConfig)(),{id:t}=(0,n.useParams)(),a=(e=>{const{kas:{apiBasePath:t}}=(0,x.useConfig)(),{kas:{getToken:a}}=(0,x.useAuth)(),[s,n]=(0,i.useState)(),o=O(),r=(0,i.useCallback)((e=>(0,c.mG)(void 0,void 0,void 0,(function*(){n(void 0);const s=new T.DefaultApi({accessToken:a,basePath:t});try{const t=yield s.getKafkaById(e),{cloud_provider:a,region:i,instance_type:r,size_id:c}=t.data;if(!(a&&i&&c&&r))throw new Error(`Kafka instance ${t.data.id} missing some required info: ${a}, ${i}, ${r}, ${c}`);const d=yield o(a,i,c,r);n(Object.assign(Object.assign({},t.data),{size:d}))}catch(e){n(!1)}}))),[t,o,a]);return(0,i.useEffect)((()=>{e?r(e):n(void 0)}),[r,e]),s?{kafkaDetail:s,adminServerUrl:I(s)}:s})(t);if(null==e?void 0:e.serviceDown)return(0,s.jsx)(w.d,{});if(void 0===a)return(0,s.jsx)(l.AppServicesLoading,{});if(!1===a)throw new Error("404");return(0,s.jsx)(z,{kafka:a})},label:"Streams for Apache Kafka",path:"/streams/kafkas/:id",title:"Streams for Apache Kafka | Red Hat OpenShift Application Services",basename:"/streams/kafkas/:id",devPreview:!1},{component:(0,i.lazy)((()=>Promise.resolve().then(a.bind(a,15822)))),exact:!0,label:"Service Accounts",path:"/service-accounts",title:"Service Accounts | Red Hat OpenShift Application Services",devPreview:!1},{component:W,exact:!0,label:"Streams for Apache Kafka",path:"/openshift-streams",title:"Streams for Apache Kafka | Red Hat OpenShift Application Services"}],J=e=>{var{component:t,title:a,basename:o,devPreview:r}=e,p=(0,c._T)(e,["component","title","basename","devPreview"]);const{t:m}=(0,P.useTranslation)(),h=(0,n.useHistory)();u(a);const f=(0,i.useCallback)((()=>o||""),[o]),v=(0,i.useCallback)((()=>h.push("/")),[h]),k=(0,i.useCallback)((e=>(0,s.jsx)(d.SV,{fallbackRender:({error:e})=>"404"===e.message?(0,s.jsx)(l.AppServicesPageNotFound,{}):(0,s.jsx)(l.AppServicesEmptyState,{emptyStateProps:{variant:l.AppServicesEmptyStateVariant.UnexpectedError},emptyStateIconProps:{className:"icon-color"},titleProps:{title:m("common:something_went_wrong")},emptyStateBodyProps:{body:m("common:unexpected_error")},children:(0,s.jsx)(Q.zx,{onClick:v,children:m("common:return_to_home_page")})}),children:(0,s.jsx)(l.DevelopmentPreview,{show:r,children:(0,s.jsx)(x.BasenameContext.Provider,{value:{getBasename:f},children:(0,s.jsx)(t,Object.assign({},p,e))})})})),[t,r,f,v,p,m]);return(0,s.jsx)(n.Route,Object.assign({render:k},p))},X=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)(l.AppServicesLoading,{}),children:(0,s.jsxs)(n.Switch,{children:[h(Z).map(((e,t)=>{var{path:a,exact:i,component:n,title:o,isAsync:r}=e,d=(0,c._T)(e,["path","exact","component","title","isAsync"]);return(0,s.jsx)(J,Object.assign({path:a,exact:i,component:n,title:o,isAsync:r},d),t)})),(0,s.jsx)(m,{title:"404 Page Not Found"})]})}),(0,s.jsx)(U,{})]});var Y=a(61529);const ee=(0,o.connect)()((()=>{const e=(0,A.pp)(),t=(0,n.useHistory)(),a=(0,i.useCallback)((()=>{const e="overview",a=t.location.pathname.split("/");return a.length>1?""===a[1]?e:"openshift-streams"===a[1]?"streams":a[1]:e}),[t]);return(0,i.useEffect)((()=>{const a=e.chrome.on("APP_NAVIGATION",(e=>{var a,s;if(null===(a=null==e?void 0:e.domEvent)||void 0===a?void 0:a.href){const a=null===(s=null==e?void 0:e.domEvent)||void 0===s?void 0:s.href.replace("/application-services","/").replace(/^\/\//gm,"/");t.push(a)}}));return()=>{a()}}),[a,t,e.chrome]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.NotificationsPortal,{}),(0,s.jsx)(Y.T,{children:(0,s.jsx)(X,{})})]})}))},25458:(e,t,a)=>{"use strict";a.d(t,{j:()=>d,w:()=>l});var s=a(97582),i=a(85893),n=a(93264),o=a(77834),r=a(97644),c=a(72548);const d=()=>{const e=(0,r.useConfig)(),t=(0,r.useAuth)(),[a,i]=(0,n.useState)(),[d,l]=(0,n.useState)();(0,n.useEffect)((()=>{(0,s.mG)(void 0,void 0,void 0,(function*(){if(void 0!==e&&void 0!==t&&void 0!==e.rbac.basePath){const a=yield t.kas.getToken(),s=new c.PrincipalApi({accessToken:a,basePath:null==e?void 0:e.rbac.basePath});try{const e=yield s.listPrincipals(-1).then((e=>e.data.data.map((e=>{const t=e;return{id:e.username,principalType:r.PrincipalType.UserAccount,displayName:`${t.first_name} ${t.last_name}`,emailAddress:t.email}}))));l(e)}catch(e){}}}))}),[t,e]),(0,n.useEffect)((()=>{(0,s.mG)(void 0,void 0,void 0,(function*(){if(void 0!==e&&void 0!==t&&void 0!==e.rbac.basePath){const a=yield t.kas.getToken(),s=new o.SecurityApi({accessToken:a,basePath:e.kas.apiBasePath}),n=yield s.getServiceAccounts().then((e=>e.data.items.map((e=>({id:e.client_id,displayName:e.name,principalType:r.PrincipalType.ServiceAccount})))));i(n)}}))}),[t,e]);return{getAllPrincipals:(0,n.useCallback)((()=>{let e=[];return void 0!==d&&void 0!==a&&(e=e.concat(d)),void 0!==a&&(e=e.concat(a)),e}),[a,d]),getAllUserAccounts:(0,n.useCallback)((()=>d||[]),[d]),getAllServiceAccounts:(0,n.useCallback)((()=>a||[]),[a])}},l=({children:e})=>{const t=d();return(0,i.jsx)(r.PrincipalsContext.Provider,{value:t,children:e})}},68698:(e,t,a)=>{"use strict";a.d(t,{IG:()=>r.I,Gg:()=>m,N:()=>h,fh:()=>o,jg:()=>f.j});var s=a(93264),i=a(73685),n=a(85169);function o(){const e=(0,i.useHistory)(),t=(0,n.a)(),[a,o]=(0,s.useState)(!1),[r,c]=(0,s.useState)(void 0),d=(0,s.useCallback)((e=>{e&&c(e),o(!0)}),[]),l=(0,s.useCallback)((()=>{c(void 0),o(!1)}),[]);return{isDrawerOpen:a,drawerActiveTab:r,setDrawerActiveTab:c,openDrawer:d,closeDrawer:l,tokenEndPointUrl:null==t?void 0:t.tokenEndPointUrl,onDeleteInstance:()=>{e.push("/streams/kafkas")}}}var r=a(78866),c=a(97582),d=a(85893),l=a(97644),u=a(53215);const p=(0,s.createContext)(void 0),m=({children:e})=>{const t=(0,s.useRef)({}),a=(0,l.useConfig)();if(void 0===a)return(0,d.jsx)(u.AppServicesLoading,{});return(0,d.jsx)(p.Provider,{value:{modules:a.federatedModules,getModuleInfo:(e,a,s)=>(0,c.mG)(void 0,void 0,void 0,(function*(){if(void 0!==t.current[a])return t.current[a];const i=yield((e,t,a)=>(0,c.mG)(void 0,void 0,void 0,(function*(){const s=e=>(0,c.mG)(void 0,void 0,void 0,(function*(){const a=`${e}/fed-mods.json?ts=${Date.now()}`,s=yield fetch(a);return yield s.json().then((e=>e)).then((e=>e[t])).then((e=>e.entry[0])).then((t=>t.startsWith(e)?{entryPoint:t,basePath:e}:{entryPoint:`${e}${t}`,basePath:e}))}));try{return yield s(e)}catch(e){if(a)try{return yield s(a)}catch(e){return}}})))(e,a,s);return void 0!==i&&(t.current[a]=i),i}))},children:e})},h=()=>{const e=(0,s.useContext)(p);if(void 0===e)throw new Error("must be used inside FederatedModuleContext provider");return e};var f=a(25458)},40493:(e,t,a)=>{"use strict";a.d(t,{aC:()=>v,pp:()=>f,UI:()=>h,fA:()=>c,gI:()=>k});var s=a(97582),i=a(93264),n=a(97644),o=a(93589),r=a(15529);const c=e=>{const t=(0,n.useConfig)(),a=(0,n.useAuth)(),c=(0,r.t)(),[d,l]=(0,i.useState)();(0,i.useEffect)((()=>{(0,s.mG)(void 0,void 0,void 0,(function*(){if(!d){const e=yield null==a?void 0:a.ams.getToken(),s=new o.AppServicesApi({accessToken:e,basePath:(null==t?void 0:t.ams.apiBasePath)||""});yield s.apiAccountsMgmtV1CurrentAccountGet().then((e=>{var t,a;const s=null===(a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id;l(s)}))}}))}),[t,a,d]);const u=(0,i.useCallback)((()=>{const t=c.kafka.ams.quotaProductId,a=c.kafka.ams.trialQuotaProductId,s=c.kafka.ams.resourceName,i=c.serviceRegistry.ams.quotaProductId,o=c.serviceRegistry.ams.trialQuotaProductId,r=c.serviceRegistry.ams.resourceName;if(e===n.ProductType.kas)return{quotaProductId:t,trialQuotaProductId:a,resourceName:s,quotaKey:n.QuotaType.kas,trialQuotaKey:n.QuotaType.kasTrial};if(e===n.ProductType.srs)return{quotaProductId:i,trialQuotaProductId:o,resourceName:r,quotaKey:n.QuotaType.srs,trialQuotaKey:n.QuotaType.srsTrial};throw new Error(`getQuotaTypesByProductId error, unrecognized productId ${e}`)}),[c,e]),p=(0,i.useCallback)((()=>(0,s.mG)(void 0,void 0,void 0,(function*(){var e,s,i,n;const r=new Map,c={loading:!0,isServiceDown:!1,data:void 0};if(d){const{quotaProductId:l,trialQuotaProductId:p,resourceName:m,quotaKey:h,trialQuotaKey:f}=u()||{},v=yield null==a?void 0:a.ams.getToken(),k=new o.AppServicesApi({accessToken:v,basePath:(null==t?void 0:t.ams.apiBasePath)||""});try{const t=yield k.apiAccountsMgmtV1OrganizationsOrgIdQuotaCostGet(d,void 0,!0),a=null===(s=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.items)||void 0===s?void 0:s.find((e=>{var t;return null===(t=e.related_resources)||void 0===t?void 0:t.find((e=>e.resource_name===m&&e.product===l))})),o=null===(n=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.items)||void 0===n?void 0:n.find((e=>{var t;return null===(t=e.related_resources)||void 0===t?void 0:t.find((e=>e.resource_name===m&&e.product===p))}));if(a&&a.allowed>0){const e=(null==a?void 0:a.allowed)-(null==a?void 0:a.consumed);null==r||r.set(h,{allowed:null==a?void 0:a.allowed,consumed:null==a?void 0:a.consumed,remaining:e<0?0:e})}o&&(null==r||r.set(f,{allowed:null==o?void 0:o.allowed,consumed:null==o?void 0:o.consumed,remaining:(null==o?void 0:o.allowed)-(null==o?void 0:o.consumed)})),c.loading=!1,c.data=r}catch(e){c.loading=!1,c.isServiceDown=!0,console.error(e)}}return c}))),[a,t,u,d]);return{orgId:d,getQuota:p}};var d,l=a(73685),u=a(17563);!function(e){e[e.IDLE=0]="IDLE",e[e.FETCHING=1]="FETCHING",e[e.FETCHED=2]="FETCHED",e[e.FETCH_ERROR=3]="FETCH_ERROR"}(d||(d={}));const p=(e,t,a)=>({key:"selfTermsReview",fetch:()=>(0,s.mG)(void 0,void 0,void 0,(function*(){const s=yield null==t?void 0:t.ams.getToken(),i=new o.AppServicesApi({accessToken:s,basePath:(null==e?void 0:e.ams.apiBasePath)||""});return(yield i.apiAuthorizationsV1SelfTermsReviewPost({event_code:a.eventCode,site_code:a.siteCode})).data}))}),m=e=>Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&"),h=e=>{const t=(e=>{const t=(0,n.useConfig)(),a=(0,n.useAuth)(),o=(0,i.useRef)(),r=(0,i.useCallback)((()=>(0,s.mG)(void 0,void 0,void 0,(function*(){if(void 0!==o.current)return o.current;const s=yield p(t,a,e).fetch().then((e=>e));return o.current=s,s}))),[a,t,e]);return(0,i.useEffect)((()=>{r()}),[t,a,r]),r})(e),a=(0,l.useLocation)();return{shouldOpenCreateModal:()=>(0,s.mG)(void 0,void 0,void 0,(function*(){if("true"===(0,u.parse)(a.search).create){if(!(yield t()).terms_required)return!0}return!1})),preCreateInstance:e=>(0,s.mG)(void 0,void 0,void 0,(function*(){const a=yield t();if(a.terms_available||a.terms_required){if(void 0===a.redirect_url)throw new Error("terms must be signed but there is no terms url");const e=(0,u.stringifyUrl)({url:window.location.href,query:{create:"true"}}),t=((e,t,a)=>`${e}&${m({redirect:t,cancelRedirect:a})}`)(a.redirect_url,e,window.location.href);return{shouldOpenCreateModal:!1,url:t}}return{shouldOpenCreateModal:e,url:void 0}}))}},f=()=>{const e=window.insights;if(void 0===e)throw new Error("must be used inside an initialized insights context");return e},v=()=>{const e=(0,n.useConfig)(),t=f();if(void 0===e||void 0===t.chrome.auth)throw new Error("useAuth must be used inside a config provider, and insights auth");const a=t.chrome.auth,i=a.getToken;return{getUsername:()=>(0,s.mG)(void 0,void 0,void 0,(function*(){return(yield a.getUser()).identity.user.username})),isOrgAdmin:()=>(0,s.mG)(void 0,void 0,void 0,(function*(){return(yield a.getUser()).identity.user.is_org_admin})),kafka:{getToken:i},kas:{getToken:i},ams:{getToken:i},srs:{getToken:i},apicurio_registry:{getToken:i},smart_events:{getToken:i},sas_ui:{getToken:i}}},k=()=>{const e=(0,n.useConfig)();return(0,i.useCallback)((()=>(0,s.mG)(void 0,void 0,void 0,(function*(){return(yield fetch(`${e.kas.apiBasePath}/api/kafkas_mgmt/v1/sso_providers`)).json()}))),[e.kas.apiBasePath])}},37272:(e,t,a)=>{"use strict";a.r(t),a.d(t,{APIManagementOverviewPage:()=>n,default:()=>o});var s=a(85893),i=a(53215);const n=()=>(0,s.jsx)(i.APIManagementPage,{}),o=n},75401:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DataScienceOverViewPage:()=>p,default:()=>m});var s=a(97582),i=a(85893),n=a(36425),o=a.n(n),r=a(53215),c=a(93264);const d="managed-odh";function l(e){return(0,s.mG)(this,void 0,void 0,(function*(){yield window.insights.chrome.auth.getUser();const t=yield window.insights.chrome.auth.getToken();return fetch(`https://api.openshift.com/api/clusters_mgmt/v1/clusters/${e.cluster_id}/addon_inquiries?search=id=${d}`,{method:"get",headers:{Authorization:`Bearer ${t}`}}).then((e=>e.json())).then((({data:t})=>Object.assign({clusterId:e.cluster_id},t)))}))}function u(){return(0,s.mG)(this,void 0,void 0,(function*(){yield window.insights.chrome.auth.getUser();const e=yield window.insights.chrome.auth.getToken(),{items:t}=yield fetch("https://api.openshift.com/api/accounts_mgmt/v1/subscriptions?search=plan_id='MOA'\n  and status IN ('Active', 'Reserved')&fetchMetrics=true",{method:"get",headers:{Authorization:`Bearer ${e}`}}).then((e=>e.json())),a=t.filter((e=>function(e){var t;return!!(null===(t=e.metrics)||void 0===t?void 0:t.find(((e={nodes:{compute:0}})=>e&&e.nodes&&e.nodes.compute>=2)))}(e))),s=(yield Promise.allSettled(a.map(l))).filter((({status:e})=>"fulfilled"===e)).reduce(((e,{value:t})=>{const a=function({clusterId:e,items:t}){const a=t.filter((({id:e})=>e===d));return{clusterId:e,hasAddon:!!a.find((e=>{var t;return null===(t=null==e?void 0:e.requirements)||void 0===t?void 0:t.every((({enabled:e})=>e))})),canInstallAddon:!!a.find((e=>{var t;return null===(t=null==e?void 0:e.requirements)||void 0===t?void 0:t.every((({status:{fulfilled:e}})=>e))}))}}(t);return Object.assign(Object.assign({},e),{[a.clusterId]:a})}),{});return{installableClusters:a.filter((({cluster_id:e})=>{var t;return null===(t=s[e])||void 0===t?void 0:t.canInstallAddon})),clusters:t}}))}const p=()=>{const{analytics:e}=o()(),t=(0,c.useCallback)(((t,a)=>{try{e.track(t,a)}catch(t){console.warn("analytics not found: ",t)}}),[e]);return(0,i.jsx)(r.DataSciencePage,{loadClusters:u,trackClick:t})},m=p},44735:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(97582),i=a(85893),n=a(93264),o=a(15847),r=a(97644),c=a(3241),d=a(68698),l=a(40493),u=a(53215),p=a(15529);const m=({Component:e})=>{const t=(0,r.useConfig)(),a=(0,p.t)(),{t:m}=(0,o.useTranslation)(),{preCreateInstance:h,shouldOpenCreateModal:f}=(0,l.UI)({eventCode:a.kafka.ams.termsAndConditionsEventCode,siteCode:a.kafka.ams.termsAndConditionsSiteCode}),{getAllUserAccounts:v}=(0,d.jg)(),[k,g]=(0,n.useState)(void 0),[b,P]=(0,n.useState)(!1),[y,_]=(0,n.useState)(""),w=(0,d.fh)(),x=(0,n.useCallback)((e=>(0,s.mG)(void 0,void 0,void 0,(function*(){const{shouldOpenCreateModal:t,url:a}=yield h(e);return!1!==t||!a||(P(!0),_(a),!1)}))),[h,P,_]),S=(0,n.useCallback)((()=>(0,s.mG)(void 0,void 0,void 0,(function*(){window.location.href=y}))),[y]);return t.serviceDown?(0,i.jsx)(c.d,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.TermsAndConditionModal,{isModalOpen:b,serviceName:m("common:kafka"),ouiaIdModal:"modal-KafkaTerms",ouiaIdButtonViewTerms:"button-view-terms",ouiaIdButtonCancel:"button-cancel",onClickViewTermsConditions:S,onCancel:()=>{P(!1)}}),(0,i.jsx)(e,Object.assign({preCreateInstance:x,shouldOpenCreateModal:f,drawerInstance:k,setDrawerInstance:g},w,{getAllUserAccounts:v}))]})},h=()=>{const{getQuota:e}=(0,l.fA)(null===r.ProductType||void 0===r.ProductType?void 0:r.ProductType.kas);return(0,i.jsx)(r.QuotaContext.Provider,{value:{getQuota:e},children:(0,i.jsx)(d.IG,{scope:"kas",module:"./OpenshiftStreams",fallback:(0,i.jsx)(u.AppServicesLoading,{}),render:e=>(0,i.jsx)(m,{Component:e})})})}},77745:(e,t,a)=>{"use strict";a.r(t),a.d(t,{NotFoundPage:()=>p,default:()=>m});var s=a(85893),i=a(69957),n=a(47173),o=a(32045),r=a(9947),c=a(38424),d=a(60485),l=a(75106),u=a(73685);const p=()=>(0,s.jsx)(o.NP,{children:(0,s.jsxs)(r.u,{variant:"full",children:[(0,s.jsx)(c.k,{icon:i.LP}),(0,s.jsx)(d.D,{headingLevel:"h1",size:"lg",children:"404 Page not found"}),(0,s.jsx)(l.B,{children:"We didn't find a page that matches the address you navigated to."}),(0,s.jsx)((function(){const e=(0,u.useHistory)();return(0,s.jsx)(n.zx,{onClick:function(){e.push("/")},children:"Take me home"})}),{})]})}),m=p},83857:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConnectedOverviewPage:()=>n,default:()=>o});var s=a(85893),i=a(53215);const n=()=>(0,s.jsx)(i.OverviewPageV4,{}),o=n},60766:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ResourcesPage:()=>o,default:()=>r});var s=a(85893),i=a(68698),n=a(53215);const o=()=>(0,s.jsx)(i.IG,{scope:"guides",module:"./QuickStartCatalog",fallback:(0,s.jsx)(n.AppServicesLoading,{}),render:e=>(0,s.jsx)(e,{})}),r=o},15822:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ServiceAccountsPage:()=>c,default:()=>l});var s=a(85893),i=a(68698),n=a(97644),o=a(3241),r=a(53215);const c=()=>(0,s.jsx)(i.IG,{scope:"kas",module:"./ServiceAccounts",fallback:(0,s.jsx)(r.AppServicesLoading,{}),render:e=>(0,s.jsx)(d,{Component:e})}),d=({Component:e})=>{const t=(0,n.useConfig)();return(null==t?void 0:t.serviceDown)?(0,s.jsx)(o.d,{}):(0,s.jsx)(e,{})},l=c},3241:(e,t,a)=>{"use strict";a.d(t,{d:()=>p});var s=a(85893),i=a(5913),n=a(32045),o=a(9947),r=a(38424),c=a(60485),d=a(75106),l=a(47173),u=a(15847);const p=()=>{const{t:e}=(0,u.useTranslation)(["appTemporaryFixMe"]);return(0,s.jsx)(n.NP,{children:(0,s.jsxs)(o.u,{variant:"full",children:[(0,s.jsx)(r.k,{icon:i.R0}),(0,s.jsx)(c.D,{headingLevel:"h1",size:"lg",children:e("serviceDown.serviceDownTitle")}),(0,s.jsx)(d.B,{children:e("serviceDown.serviceDownMessage")}),(0,s.jsx)(l.zx,{variant:"primary",onClick:()=>{window.location.href="https://status.starter.openshift.com/"},children:e("serviceDown.serviceDownButton")})]})})}},13179:(e,t,a)=>{"use strict";a.d(t,{P:()=>h});var s=a(97582),i=a(85893);var n=a(68698),o=a(73685),r=a(97644),c=a(53215),d=a(93264),l=a(77834),u=a(72548);function p(e,t){return(0,s.mG)(this,void 0,void 0,(function*(){try{const a=new u.PrincipalApi({accessToken:e,basePath:t});return yield a.listPrincipals(-1).then((e=>e.data.data.map((e=>{const t=e;return{id:e.username,principalType:r.PrincipalType.UserAccount,displayName:`${t.first_name} ${t.last_name}`,emailAddress:t.email}}))))}catch(e){console.warn("app-services-ui fetchUserAccounts error",e)}}))}function m(e,t){return(0,s.mG)(this,void 0,void 0,(function*(){try{const a=new l.SecurityApi({accessToken:e,basePath:t});return yield a.getServiceAccounts().then((e=>e.data.items.map((e=>({id:e.client_id,displayName:e.name,principalType:r.PrincipalType.ServiceAccount})))))}catch(e){console.warn("app-services-ui fetchServiceAccounts error",e)}}))}const h=e=>{var{module:t}=e,a=(0,s._T)(e,["module"]);return(0,i.jsx)(n.IG,{scope:"apicurio_registry",module:t,fallback:(0,i.jsx)(c.AppServicesLoading,{}),render:e=>(0,i.jsx)(f,Object.assign({Component:e},a))})},f=e=>{var{Component:t,registry:a}=e,n=(0,s._T)(e,["Component","registry"]);let l;const u=(0,r.useAlert)(),h=(0,r.useAuth)(),f=(0,r.useConfig)(),v=(0,o.useHistory)(),k=(0,r.useBasename)(),{loading:g,allPrincipals:b}=function(){const e=(0,r.useConfig)(),t=(0,r.useAuth)(),[a,i]=(0,d.useState)(!0),[n,o]=(0,d.useState)(),[c,l]=(0,d.useState)();return(0,d.useEffect)((()=>{(()=>{(0,s.mG)(this,void 0,void 0,(function*(){i(!0);try{const a=yield t.kas.getToken(),s=e.rbac.basePath,n=e.kas.apiBasePath;if(a){const[e,t]=yield Promise.allSettled([p(a,s),m(a,n)]);"fulfilled"===e.status&&l(e.value),"fulfilled"===t.status&&o(t.value)}else console.warn("app-services-ui no access token in usePrincipals");i(!1)}catch(e){i(!1)}}))})()}),[t,e]),{loading:a,users:c,services:n,allPrincipals:c||n?[...c||[],...n||[]]:void 0}}(),P=null==h?void 0:h.apicurio_registry.getToken;let{groupId:y,artifactId:_,version:w}=(0,o.useParams)();return y=decodeURIComponent(y),_=decodeURIComponent(_),w=decodeURIComponent(w),void 0===f||void 0===a||g?(0,i.jsx)(c.AppServicesLoading,{}):P&&k?(l=((e,t,a,s,i,n)=>({artifacts:{url:`${a}/apis/registry`},auth:{type:"gettoken",getToken:i},features:{readOnly:!1,breadcrumbs:!1,roleManagement:!0,multiTenant:!0,settings:!0,alerts:t},ui:{navPrefixPath:s},principals:n}))(0,u,a.registryUrl,`${k.getBasename()}/t/${null==a?void 0:a.id}`,P,b),(0,i.jsx)(t,Object.assign({config:l,tenantId:a.id,groupId:y,artifactId:_,version:w,history:v},n))):null}},85169:(e,t,a)=>{"use strict";a.d(t,{V:()=>i,a:()=>n});var s=a(93264);const i=(0,s.createContext)(void 0),n=()=>{const e=(0,s.useContext)(i);if(void 0===e)throw new Error("must be used inside an AuthContext provider");return e}},26836:(e,t,a)=>{"use strict";a.d(t,{N:()=>u});var s=a(97582),i=a(85893),n=a(93264),o=a(97644);const r=JSON.parse('{"Q":{"kas":{"basePath":"/mas-local-fm/kas","proxyTarget":"http://0.0.0.0:9000","fallbackBasePath":"/apps/rhosak-control-plane-ui-build"},"kafka":{"basePath":"/mas-local-fm/kafka","proxyTarget":"http://0.0.0.0:8080","fallbackBasePath":"/apps/rhosak-data-plane-ui-build"},"guides":{"basePath":"/mas-local-fm/guides","proxyTarget":"http://0.0.0.0:9001","fallbackBasePath":"/apps/rhoas-guides-build"},"apicurio_registry":{"basePath":"/mas-local-fm/apicurio_registry","proxyTarget":"http://0.0.0.0:8888","fallbackBasePath":"/apps/sr-ui-build"},"srs":{"basePath":"/mas-local-fm/srs","proxyTarget":"http://0.0.0.0:9005","fallbackBasePath":"/apps/srs-ui-build"},"cos":{"basePath":"/mas-local-fm/cos","proxyTarget":"http://0.0.0.0:9002","fallbackBasePath":"/apps/cos-ui-build"},"ads":{"basePath":"/mas-local-fm/ads","proxyTarget":"http://0.0.0.0:9009","fallbackBasePath":"/apps/ads-ui-build"},"smart_events":{"basePath":"/mas-local-fm/smart_events","proxyTarget":"http://0.0.0.0:9006","fallbackBasePath":"/apps/se-ui-build"},"sas_ui":{"basePath":"/mas-local-fm/sas_ui","proxyTarget":"http://0.0.0.0:9000","fallbackBasePath":"/apps/rhosak-control-plane-ui-build"}},"v":[{"hostnames":["prod.foo.redhat.com"],"fetchConfig":true,"type":"proxy","config":{"serviceDown":false,"guides":{"showDrafts":false},"ams":{"apiBasePath":"https://api.stage.openshift.com"},"sas_ui":{"apiBasePath":"https://sso.redhat.com/auth/realms/redhat-external"},"kas":{"apiBasePath":"https://api.stage.openshift.com"},"kafka":{},"apicurio_registry":{"apiBasePath":""},"rbac":{"basePath":"/api/rbac/v1"},"srs":{"apiBasePath":"https://api.stage.openshift.com"},"ads":{"editorsBasePath":"http://0.0.0.0:9011"},"cos":{"apiBasePath":"https://wxn4aqqc8bqvxcy6unfe.api.stage.openshift.com","configurators":{"debezium":{"remoteEntry":"/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"}}},"smart_events":{"apiBasePath":"https://lcstem2z9g006s6.api.stage.openshift.com"}}},{"hostnames":["qaprodauth.cloud.redhat.com","qaprodauth.console.redhat.com"],"config":{"serviceDown":false,"guides":{"showDrafts":true},"ams":{"apiBasePath":"https://api.stage.openshift.com"},"kas":{"apiBasePath":"https://api.stage.openshift.com"},"sas_ui":{"apiBasePath":"https://sso.redhat.com/auth/realms/redhat-external"},"kafka":{},"apicurio_registry":{"apiBasePath":""},"srs":{"apiBasePath":"https://api.stage.openshift.com"},"ads":{"editorsBasePath":"https://qaprodauth.console.redhat.com/preview/apps/ads-editors-build/index.html"},"rbac":{"basePath":"/api/rbac/v1"},"cos":{"apiBasePath":"https://wxn4aqqc8bqvxcy6unfe.api.stage.openshift.com","configurators":{"debezium":{"remoteEntry":"/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"}}},"smart_events":{"apiBasePath":"https://lcstem2z9g006s6.api.stage.openshift.com"}}},{"hostnames":["cloud.redhat.com","console.redhat.com"],"config":{"serviceDown":false,"guides":{"showDrafts":false},"ams":{"apiBasePath":"https://api.openshift.com"},"kas":{"apiBasePath":"https://api.openshift.com"},"sas_ui":{"apiBasePath":"https://sso.redhat.com/auth/realms/redhat-external"},"kafka":{},"apicurio_registry":{"apiBasePath":""},"srs":{"apiBasePath":"https://api.openshift.com"},"ads":{"editorsBasePath":"https://console.redhat.com/preview/apps/ads-editors-build/index.html"},"rbac":{"basePath":"/api/rbac/v1"},"cos":{"apiBasePath":"https://api.openshift.com","configurators":{"debezium":{"remoteEntry":"/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"}}},"smart_events":{"apiBasePath":""}}}]}'),c=e=>{const t=window.location.hostname;console.log(`Filter config for ${t}`);const a=e.filter((e=>e.hostnames.includes(t)));if(a.length>1)throw new Error(`Unable to find config for ${t}, more than one config matched ${a}`);if(a.length<1){const t=e.filter((e=>e.hostnames.includes("console.redhat.com")));if(t.length>1)throw new Error(`Unable to load default config, more than one config matched ${a}`);if(t.length<1)throw new Error("Unable to load default config, no configs matched");return t[0]}return a[0]},d=(e,t,a)=>{const s={};return Object.entries(t).forEach((([t,i])=>{let n,{basePath:o}=i;"proxy"!==e.type?o=i.fallbackBasePath:n=i.fallbackBasePath,a||(o.startsWith("/preview")&&(o=o.substring(8)),(null==n?void 0:n.startsWith("/preview"))&&(n=n.substring(8))),s[t]={basePath:o,fallbackBasePath:n}})),Object.assign(Object.assign({},e.config),{federatedModules:s})};var l=a(31589);const u=({children:e})=>{const{beta:t}=(0,l.gV)(),[u,p]=(0,n.useState)((()=>{const e=r.v,a=c(e);if(a.fetchConfig)return;const s=d(a,r.Q,t);return console.log("Done loading config",s),s}));return(0,n.useEffect)((()=>{(0,s.mG)(void 0,void 0,void 0,(function*(){if(void 0===u){const e=yield fetch(`${a.p}config.json`),s=yield e.json(),i=c(s.config),n=d(i,s.federatedModules,t);console.debug("Done loading config",n),p(n)}}))}),[t,u]),(0,i.jsx)(o.ConfigContext.Provider,{value:u,children:e})}},15529:(e,t,a)=>{"use strict";a.d(t,{A:()=>i,t:()=>n});var s=a(93264);const i=(0,s.createContext)(void 0),n=()=>{const e=(0,s.useContext)(i);if(void 0===e)throw new Error("useConstants must be used inside an ServiceConstantsContextProvider");return e}},18047:(e,t,a)=>{"use strict";a.d(t,{B:()=>o});var s=a(85893),i=a(15529);const n=JSON.parse('{"version":1,"kafka":{"ams":{"termsAndConditionsEventCode":"register","termsAndConditionsSiteCode":"ocm","instanceQuotaId":"cluster|rhinfra|rhosak|standard","trialQuotaId":"cluster|rhinfra|rhosaktrial|standard","quotaProductId":"RHOSAK","trialQuotaProductId":"RHOSAKTrial","resourceName":"rhosak"}},"serviceRegistry":{"ams":{"termsAndConditionsEventCode":"register","termsAndConditionsSiteCode":"ocm","instanceQuotaId":"cluster|rhinfra|rhosr|any","trialQuotaId":"cluster|rhinfra|rhosrtrial|any","quotaProductId":"RHOSR","trialQuotaProductId":"RHOSRTrial","resourceName":"rhosr"}}}'),o=({children:e})=>(0,s.jsx)(i.A.Provider,{value:n,children:e})},31589:(e,t,a)=>{"use strict";a.d(t,{O1:()=>r,gV:()=>o});var s=a(85893),i=a(93264);const n=(0,i.createContext)(void 0),o=()=>{const e=(0,i.useContext)(n);if(void 0===e)throw new Error("useFeatureFlags must be used inside a FeatureFlagContext provider");return e},r=({children:e})=>{const t={beta:window.location.pathname.startsWith("/preview")};return(0,s.jsx)(n.Provider,{value:t,children:e})}},36494:(e,t,a)=>{"use strict";a.d(t,{S:()=>c});var s=a(39133),i=a.n(s),n=a(5068),o=a(83215);let r;function c(...e){return r||(r=new(i())({},[n.ZP,...e]),r.register({notifications:o.ee})),r}},37687:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const s=function(e){let t="/";const a=e.split("/");return a.shift(),"preview"===a[0]&&(a.shift(),t="/preview/"),`${t}${a[0]}`}},24654:()=>{}}]);
//# sourceMappingURL=20.eb56f7f51678049eef06.js.map