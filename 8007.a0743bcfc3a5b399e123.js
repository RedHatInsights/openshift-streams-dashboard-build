"use strict";(self.webpackChunkapplication_services_ui=self.webpackChunkapplication_services_ui||[]).push([[8007],{65154:(e,t,n)=>{n.d(t,{Z:()=>L});var r=n(75418),a=n.n(r),i=n(68199),o=n(78625),s=n(71355),c=n(70655),u=n(19581),l=n(98823),d=n(71987),f=n(12853),m=n(62579),p=n(35145),v=n(16627),h=n(7451),g=n(41970),k=n(99421),_=a().lazy((function(){return n.e(3271).then(n.bind(n,33271))})),b=a().lazy((function(){return Promise.resolve().then(n.bind(n,15447))})),E=a().lazy((function(){return Promise.resolve().then(n.bind(n,29913))})),y=a().lazy((function(){return Promise.resolve().then(n.bind(n,13117))})),S=a().lazy((function(){return Promise.resolve().then(n.bind(n,64765))})),P=a().lazy((function(){return Promise.resolve().then(n.bind(n,62808))})),w=a().lazy((function(){return Promise.resolve().then(n.bind(n,88530))})),A=a().lazy((function(){return Promise.resolve().then(n.bind(n,69372))})),T=a().lazy((function(){return Promise.resolve().then(n.bind(n,91285))})),C=a().lazy((function(){return Promise.resolve().then(n.bind(n,31841))})),I=a().lazy((function(){return n.e(4359).then(n.bind(n,54359))})),R=a().lazy((function(){return Promise.resolve().then(n.bind(n,80140))})),O=a().lazy((function(){return Promise.resolve().then(n.bind(n,44055))})),B=a().lazy((function(){return Promise.resolve().then(n.bind(n,62655))})),x=function(){return a().createElement(i.Redirect,{to:"/streams/kafkas"})},H=[{component:v.aH,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/streams/kafkas/:id",title:"Red Hat OpenShift Streams for Apache Kafka",basename:"/streams/kafkas/:id",devPreview:!1},{component:x,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/streams",title:"Red Hat OpenShift Streams for Apache Kafka"},{component:x,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/openshift-streams",title:"Red Hat OpenShift Streams for Apache Kafka"},{component:w,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/streams/kafkas",title:"Red Hat OpenShift Streams for Apache Kafka",basename:"/streams/kafkas",devPreview:!1},{component:B,exact:!0,label:"Service Registry",path:"/service-registry",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:y,exact:!0,label:"Service Registry",path:"/service-registry/t/:tenantId",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:y,exact:!0,label:"Service Registry",path:"/service-registry/t/:tenantId/artifacts",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:C,exact:!0,label:"Service Registry",path:"/service-registry/t/:tenantId/rules",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:I,exact:!0,label:"Service Registry",path:"/service-registry/t/:tenantId/roles",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:E,exact:!0,label:"Service Registry",path:"/service-registry/t/:tenantId/artifacts/:groupId/:artifactId",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:S,exact:!0,label:"Service Registry",path:"/service-registry/t/:tenantId/artifacts/:groupId/:artifactId/versions/:version",title:"Service Registry | Red Hat OpenShift Application Services",basename:"/service-registry"},{component:O,exact:!1,label:"COS",path:"/cos",title:"COS",basename:"".concat((0,d.Z)(window.location.pathname),"/cos"),devPreview:!0},{component:R,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/service-accounts",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!1},{component:function(){return a().createElement(i.Redirect,{to:"/service-accounts"})},exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/streams/service-accounts",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!1},{component:A,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/overview",title:"Red Hat OpenShift Streams for Apache Kafka"},{component:function(){return a().createElement(i.Redirect,{to:"/overview"})},exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/",title:"Red Hat OpenShift Streams for Apache Kafka"},{component:b,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/api-management",title:"Red Hat OpenShift Streams for Apache Kafka"},{component:P,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/data-science",title:"Red Hat OpenShift Streams for Apache Kafka"},{component:function(){return a().createElement(i.Redirect,{to:"/learning-resources"})},label:"QuickStarts for Red Hat OpenShift Application Services",path:"/streams/resources",title:"QuickStarts for Red Hat OpenShift Application Services",devPreview:!0},{component:T,exact:!0,label:"Learning Resources | Red Hat OpenShift Application Services",path:"/learning-resources",title:"Learning Resources | Red Hat OpenShift Application Services",devPreview:!1}],z=function(e){var t=e.component,n=e.isAsync,r=void 0!==n&&n,o=e.title,s=e.basename,u=e.devPreview,d=(0,c.__rest)(e,["component","isAsync","title","basename","devPreview"]),v=(0,g.useTranslation)().t,_=(0,i.useHistory)();(0,m.bi)(r),(0,p.jr)(o);var b=function(){return s||""},E=function(){return _.push("/")};return a().createElement(i.Route,(0,c.__assign)({render:function(e){return a().createElement(l.ErrorBoundary,{fallbackRender:function(e){return"404"===e.error.message?a().createElement(f.AppServicesPageNotFound,null):a().createElement(f.AppServicesEmptyState,{emptyStateProps:{variant:f.AppServicesEmptyStateVariant.UnexpectedError},emptyStateIconProps:{className:"icon-color"},titleProps:{title:v("common:something_went_wrong")},emptyStateBodyProps:{body:v("common:unexpected_error")}},a().createElement(k.Button,{onClick:E},v("common:return_to_home_page")))}},a().createElement(f.DevelopmentPreview,{show:u},a().createElement(h.BasenameContext.Provider,{value:{getBasename:b}},a().createElement(t,(0,c.__assign)({},d,e)))))}},d))},D=function(){return a().createElement(a().Fragment,null,a().createElement(u.LastLocationProvider,null,a().createElement(a().Suspense,{fallback:a().createElement(f.AppServicesLoading,null)},a().createElement(i.Switch,null,(0,m.SV)(H).map((function(e,t){var n=e.path,r=e.exact,i=e.component,o=e.title,s=e.isAsync,u=(0,c.__rest)(e,["path","exact","component","title","isAsync"]);return a().createElement(z,(0,c.__assign)({path:n,exact:r,component:i,key:t,title:o,isAsync:s},u))})),a().createElement(m.c5,{title:"404 Page Not Found"})))),a().createElement(_,null))},K=n(98307),M=n(86437);const L=(0,o.connect)()((function(){var e=(0,M.pp)(),t=(0,i.useHistory)(),n=function(){var e="overview",n=t.location.pathname.split("/");return n.length>1?""===n[1]?e:"openshift-streams"===n[1]?"streams":n[1]:e};return(0,r.useEffect)((function(){e.chrome.init();var r=n();e.chrome.identifyApp(r);var a=e.chrome.on("APP_NAVIGATION",(function(e){t.push("/".concat(["kafkas","service-accounts","resources"].includes(e.navId)?"streams/":"").concat(e.navId))}));return function(){a()}}),[n,t,e.chrome]),a().createElement(K.Gg,null,a().createElement(s.qJ,null),a().createElement(D,null))}))},85859:(e,t,n)=>{n.d(t,{I:()=>l});var r=n(70655),a=n(75418),i=n.n(a),o=n(7451),s=n(98307),c=n(12853),u=function(){var e=(0,a.useRef)(!1);return(0,a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e};var l=function(e){var t=e.scope,n=e.module,o=e.render,c=e.fallback,l=u(),f=(0,s.N)(),m=f.getModuleInfo,p=f.modules,v=(0,a.useState)(),h=v[0],g=v[1];return(0,a.useEffect)((function(){(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,m(p[t].basePath,t,p[t].fallbackBasePath)];case 1:return e=n.sent(),l.current&&g(e),[2]}}))}))}),[t,p]),void 0!==h?i().createElement(d,{scope:t,module:n,render:o,moduleInfo:h}):void 0!==c?i().createElement(i().Fragment,null,c):null},d=function(e){var t=e.moduleInfo,a=e.fallback,s=e.scope,l=e.render,d=e.module,f=function(e){var t=u(),n=i().useState(!1),r=n[0],a=n[1],o=i().useState(!1),s=o[0],c=o[1];return i().useEffect((function(){var n;if(t.current){if(!e)return void c(!0);(n=document.createElement("script")).src=e,n.type="text/javascript",n.async=!0,a(!1),c(!1),n.onload=function(){console.log("Dynamic federated module Loaded: ".concat(e)),a(!0)},n.onerror=function(){console.error("Dynamic federated module Error: ".concat(e)),a(!1),c(!0)},document.head.appendChild(n)}return function(){n&&(console.log("Dynamic federated module Removed: ".concat(e)),document.head.removeChild(n))}}),[e]),{ready:r,failed:s}}(t.entryPoint),m=f.ready,p=f.failed;if(m&&!p){var v=i().lazy(function(e,t){var a=this;return function(){return(0,r.__awaiter)(a,void 0,void 0,(function(){var a,i,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.I("default")];case 1:return r.sent(),[4,(a=window[e]).init(n.S.default)];case 2:return r.sent(),[4,a.get(t)];case 3:return i=r.sent(),o=i(),console.debug("loaded ".concat(t," from ").concat(e)),[2,o]}}))}))}}(s,d));return i().createElement(o.AssetsContext.Provider,{value:{getPath:function(){return t.basePath}}},i().createElement(i().Suspense,{fallback:i().createElement(c.AppServicesLoading,null)},l(v)))}return a?i().createElement(i().Fragment,null,a):null}},82436:(e,t,n)=>{n.d(t,{j:()=>u,w:()=>l});var r=n(70655),a=n(75418),i=n.n(a),o=n(80881),s=n(7451),c=n(93664),u=function(){var e=(0,s.useConfig)(),t=(0,s.useAuth)(),n=(0,a.useState)(),i=n[0],u=n[1],l=(0,a.useState)(),d=l[0],f=l[1];return(0,a.useEffect)((function(){(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return void 0===e||void 0===t||void 0===e.rbac.basePath?[3,5]:[4,t.kas.getToken()];case 1:n=r.sent(),a=new c.PrincipalApi({accessToken:n,basePath:null==e?void 0:e.rbac.basePath}),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,a.listPrincipals(-1).then((function(e){return e.data.data.map((function(e){return{id:e.username,principalType:s.PrincipalType.UserAccount,displayName:"".concat(e.first_name," ").concat(e.last_name),emailAddress:e.email}}))}))];case 3:return i=r.sent(),f(i),[3,5];case 4:return r.sent(),[3,5];case 5:return[2]}}))}))}),[t,e]),(0,a.useEffect)((function(){(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return void 0===e||void 0===t||void 0===e.rbac.basePath?[3,3]:[4,t.kas.getToken()];case 1:return n=r.sent(),[4,new o.SecurityApi({accessToken:n,basePath:e.kas.apiBasePath}).getServiceAccounts().then((function(e){return e.data.items.map((function(e){return{id:e.client_id,displayName:e.name,principalType:s.PrincipalType.ServiceAccount}}))}))];case 2:a=r.sent(),u(a),r.label=3;case 3:return[2]}}))}))}),[t,e]),{getAllPrincipals:function(){var e=[];return void 0!==d&&void 0!==i&&(e=e.concat(d)),void 0!==i&&(e=e.concat(i)),e},getAllUserAccounts:function(){return d},getAllServiceAccounts:function(){return i}}},l=function(e){var t=e.children,n=u().getAllPrincipals;return i().createElement(s.PrincipalsContext.Provider,{value:{getAllPrincipals:n}},t)}},98307:(e,t,n)=>{n.d(t,{IG:()=>u.I,Gg:()=>m,oY:()=>c,A6:()=>h,N:()=>p,jg:()=>v.j});var r=n(75418),a=n.n(r),i=n(7451),o=n(12853),s=n(68199),c=function(e){var t=e.isExpanded,n=e.onClose,r=e.kafkaDetail,c=e.activeTab,l=e.children,d=(0,i.useConfig)(),f=(0,s.useHistory)();if(void 0===d)return a().createElement(o.AppServicesLoading,null);var m=(null==d?void 0:d.masSso)||{},p=m.authServerUrl,v=m.realm,h="".concat(p,"/realms/").concat(v,"/protocol/openid-connect/token"),g=function(){f.push("/streams/kafkas")};return a().createElement(u.I,{scope:"kas",module:"./InstanceDrawer",fallback:l,render:function(e){return a().createElement(e,{tokenEndPointUrl:h,isExpanded:t,onClose:n,instanceDetail:r,activeTab:c,onDeleteInstance:g},l)}})},u=n(85859),l=n(70655),d=function(e,t,n){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){var r;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:"fed-mods.json",r=function(e){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return n="".concat(e,"/").concat("fed-mods.json"),[4,fetch(n)];case 1:return[4,r.sent().json().then((function(e){return e})).then((function(e){return e[t]})).then((function(e){return e.entry[0]})).then((function(t){return t.startsWith(e)?{entryPoint:t,basePath:e}:{entryPoint:"".concat(e).concat(t),basePath:e}}))];case 2:return[2,r.sent()]}}))}))},a.label=1;case 1:return a.trys.push([1,3,,8]),[4,r(e)];case 2:return[2,a.sent()];case 3:if(a.sent(),!n)return[3,7];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,r(n)];case 5:return[2,a.sent()];case 6:return a.sent(),[2,void 0];case 7:return[3,8];case 8:return[2,void 0]}}))}))},f=a().createContext(void 0),m=function(e){var t=e.children,n=(0,r.useRef)({}),s=(0,i.useConfig)();if(void 0===s)return a().createElement(o.AppServicesLoading,null);return a().createElement(f.Provider,{value:{modules:s.federatedModules,getModuleInfo:function(e,t,r){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){var a;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return void 0!==n.current[t]?[2,n.current[t]]:[4,d(e,t,r)];case 1:return void 0!==(a=i.sent())&&(n.current[t]=a),[2,a]}}))}))}}},t)},p=function(){var e=a().useContext(f);if(void 0===e)throw new Error("must be used inside FederatedModuleContext provider");return e},v=n(82436),h=function(e){var t=e.children;return a().createElement(u.I,{scope:"kas",module:"./KasModalLoader",fallback:null,render:function(e){return a().createElement(e,null,t)}})}},86437:(e,t,n)=>{n.d(t,{aC:()=>k,pp:()=>v,NG:()=>_,UI:()=>p,fA:()=>u});var r,a=n(70655),i=n(75418),o=n(7451),s=n(18729),c=n(84875),u=function(e){var t=(0,o.useConfig)(),n=(0,o.useAuth)(),r=(0,c.t)(),u=(0,i.useState)(),l=u[0],d=u[1];(0,i.useEffect)((function(){(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return l?[3,3]:[4,null==n?void 0:n.ams.getToken()];case 1:return e=r.sent(),[4,new s.AppServicesApi({accessToken:e,basePath:(null==t?void 0:t.ams.apiBasePath)||""}).apiAccountsMgmtV1CurrentAccountGet().then((function(e){var t,n,r=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.organization)||void 0===n?void 0:n.id;d(r)}))];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}),[null==t?void 0:t.ams.apiBasePath,n]);var f=function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var i,c,u,d,f,m,p;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return i={loading:!0,isServiceDown:!1,data:void 0},l?(v=r.kafka.ams.instanceQuotaId,h=r.kafka.ams.trialQuotaId,g=r.serviceRegistry.ams.instanceQuotaId,k=r.serviceRegistry.ams.trialQuotaId,c=(e===o.ProductType.kas?{quotaId:v,trialQuotaId:h,quotaKey:o.QuotaType.kas,trialQuotaKey:o.QuotaType.kasTrial}:e===o.ProductType.srs?{quotaId:g,trialQuotaId:k,quotaKey:o.QuotaType.srs,trialQuotaKey:o.QuotaType.srsTrial}:void 0)||{},u=c.quotaId,d=c.trialQuotaId,f=c.quotaKey,m=c.trialQuotaKey,[4,null==n?void 0:n.ams.getToken()]):[3,3];case 1:return p=a.sent(),[4,new s.AppServicesApi({accessToken:p,basePath:(null==t?void 0:t.ams.apiBasePath)||""}).apiAccountsMgmtV1OrganizationsOrgIdQuotaCostGet(l,void 0,!0).then((function(e){var t,n,r,a,o=new Map,s=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.items)||void 0===n?void 0:n.filter((function(e){return e.quota_id.trim()===u}))[0],c=null===(a=null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.items)||void 0===a?void 0:a.filter((function(e){return e.quota_id.trim()===d}))[0];if(s&&s.allowed>0){var l=(null==s?void 0:s.allowed)-(null==s?void 0:s.consumed);null==o||o.set(f,{allowed:null==s?void 0:s.allowed,consumed:null==s?void 0:s.consumed,remaining:l<0?0:l})}c&&(null==o||o.set(m,{allowed:null==c?void 0:c.allowed,consumed:null==c?void 0:c.consumed,remaining:(null==c?void 0:c.allowed)-(null==c?void 0:c.consumed)})),i.loading=!1,i.data=o})).catch((function(e){i.loading=!1,i.isServiceDown=!0}))];case 2:a.sent(),a.label=3;case 3:return[2,i]}var v,h,g,k}))}))};return(0,i.useMemo)((function(){return{orgId:l,getQuota:f}}),[l,f])},l=n(68199),d=n(87211);!function(e){e[e.IDLE=0]="IDLE",e[e.FETCHING=1]="FETCHING",e[e.FETCHED=2]="FETCHED",e[e.FETCH_ERROR=3]="FETCH_ERROR"}(r||(r={}));var f=function(e,t,n){return{key:"selfTermsReview",fetch:function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var r;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,null==t?void 0:t.ams.getToken()];case 1:return r=a.sent(),[4,new s.AppServicesApi({accessToken:r,basePath:(null==e?void 0:e.ams.apiBasePath)||""}).apiAuthorizationsV1SelfTermsReviewPost({event_code:n.eventCode,site_code:n.siteCode})];case 2:return[2,a.sent()]}}))}))}}},m=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&")},p=function(e){var t=function(e){var t=(0,o.useConfig)(),n=(0,o.useAuth)(),r=(0,i.useRef)(),s=function(){return(0,a.__awaiter)(void 0,void 0,Promise,(function(){var i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return void 0!==r.current?[2,r.current]:[4,f(t,n,e).fetch().then((function(e){return e.data}))];case 1:return i=a.sent(),r.current=i,[2,i]}}))}))};return(0,i.useEffect)((function(){s()}),[t,n]),s}(e),n=(0,l.useLocation)();return{shouldOpenCreateModal:function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return e=(0,d.parse)(n.search),"true"===e.create?[4,t()]:[3,2];case 1:if(!r.sent().terms_required)return[2,!0];r.label=2;case 2:return[2,!1]}}))}))},preCreateInstance:function(e){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var n,r,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,t()];case 1:if((n=a.sent()).terms_available||n.terms_required){if(void 0===n.redirect_url)throw new Error("terms must be signed but there is no terms url");return r=(0,d.stringifyUrl)({url:window.location.href,query:{create:"true"}}),i=function(e,t,n){var r={redirect:t,cancelRedirect:n};return"".concat(e,"&").concat(m(r))}(n.redirect_url,r,window.location.href),window.location.href=i,[2,!1]}return[2,e]}}))}))}}},v=function(){var e=window.insights;if(void 0===e)throw new Error("must be used inside an initialized insights context");return e},h=n(35145),g=function(e,t){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return n={url:e.masSso.authServerUrl,clientId:e.masSso.clientId,realm:e.masSso.realm},[4,(0,h.Nn)(n,t)];case 1:return[2,r.sent()]}}))}))},k=function(){var e=(0,i.useRef)(),t=(0,o.useConfig)(),n=v();if(void 0===t||void 0===n.chrome.auth)throw new Error("useAuth must be used inside a config provider, and insights auth");var r=n.chrome.auth,s=function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return void 0!==(n=e.current)?[3,2]:[4,g(t,r.getToken)];case 1:return i=a.sent(),e.current=i,[2,i];case 2:return[2,n]}}))}))};(0,i.useEffect)((function(){s()}),[t,r]);var c=function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,s()];case 1:return e=t.sent(),[2,(0,h.hP)(e,r.getToken)]}}))}))},u=r.getToken;return{getUsername:function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,r.getUser()];case 1:return[2,e.sent().identity.user.username]}}))}))},isOrgAdmin:function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,r.getUser()];case 1:return[2,e.sent().identity.user.is_org_admin]}}))}))},kafka:{getToken:c},kas:{getToken:u},ams:{getToken:u},srs:{getToken:u},apicurio_registry:{getToken:c}}},_=function(){var e=(0,o.useConfig)();return{getTokenEndPointUrl:function(){if(e)return(0,h.jW)(e.masSso.authServerUrl,e.masSso.realm)}}}},15447:(e,t,n)=>{n.r(t),n.d(t,{APIManagementOverviewPage:()=>o,default:()=>s});var r=n(75418),a=n.n(r),i=n(12853),o=function(){return a().createElement(i.APIManagementPage,null)};const s=o},44055:(e,t,n)=>{n.r(t),n.d(t,{CosPage:()=>u,default:()=>l});var r=n(98307),a=n(38955),i=n(7451),o=n(75418),s=n.n(o),c=n(12853),u=function(){var e=(0,i.useConfig)();return(null==e?void 0:e.serviceDown)?s().createElement(a.d,null):s().createElement(r.IG,{scope:"cos",fallback:s().createElement(c.AppServicesLoading,null),module:"./OpenshiftManagedConnectors",render:function(e){return s().createElement(e,null)}})};const l=u},62808:(e,t,n)=>{n.r(t),n.d(t,{DataScienceOverViewPage:()=>o,default:()=>s});var r=n(75418),a=n.n(r),i=n(12853),o=function(){return a().createElement(i.DataSciencePage,null)};const s=o},16627:(e,t,n)=>{n.d(t,{cQ:()=>p,PS:()=>B,Jh:()=>m,EP:()=>l,A:()=>f,aH:()=>C,nT:()=>u,Fn:()=>c,dS:()=>d});var r=n(70655),a=n(75418),i=n.n(a),o=n(98307),s=function(e){var t=e.module,n=(0,r.__rest)(e,["module"]);return i().createElement(o.IG,{"data-ouia-app-id":"dataPlane-streams",scope:"kafka",module:t,render:function(e){return i().createElement(e,(0,r.__assign)({},n))}})},c=function(e){return i().createElement(s,(0,r.__assign)({module:"./Topics"},e))},u=function(e){return i().createElement(s,(0,r.__assign)({module:"./TopicDetails"},e))},l=function(e){return i().createElement(s,(0,r.__assign)({module:"./CreateTopic"},e))},d=function(e){return i().createElement(s,(0,r.__assign)({module:"./UpdateTopic"},e))},f=function(e){return i().createElement(s,(0,r.__assign)({module:"./Dashboard"},e))},m=function(e){return i().createElement(s,(0,r.__assign)({module:"./ConsumerGroups"},e))},p=function(e){return i().createElement(s,(0,r.__assign)({module:"./AclPermissions"},e))},v=n(68199),h=n(23173),g=n(80881),k=n(7451),_=function(e){if(void 0===e)throw new Error("kafkaRequest cannot be undefined");return"https://admin-server-".concat(null==e?void 0:e.bootstrap_server_host,"/rest")},b=n(82436),E=n(12853),y=n(63564),S=n(62579),P=n(35145),w=[{component:h.Fn,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/topics",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.nT,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/topics/:topicName",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.EP,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/topic/create",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.dS,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/topic/update/:topicName",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.A,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.A,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/dashboard",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.Jh,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/consumer-groups",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0},{component:h.cQ,exact:!0,label:"Red Hat OpenShift Streams for Apache Kafka",path:"/acls",title:"Red Hat OpenShift Streams for Apache Kafka",devPreview:!0}],A=function(e){var t=e.component,n=e.isAsync,a=void 0!==n&&n,o=e.title,s=e.underlyingProps,c=e.url,u=(0,r.__rest)(e,["component","isAsync","title","underlyingProps","url"]);(0,S.bi)(a),(0,P.jr)(o);var l=function(){return c};return i().createElement(v.Route,(0,r.__assign)({render:function(e){return i().createElement(k.BasenameContext.Provider,{value:{getBasename:l}},i().createElement(t,(0,r.__assign)({},s,u,e)))}},u))},T=function(e){var t=(0,v.useRouteMatch)();return i().createElement(v.Switch,null,(0,S.SV)(w).map((function(n,a){var o=n.path,s=n.exact,c=n.component,u=n.title,l=n.isAsync,d=(0,r.__rest)(n,["path","exact","component","title","isAsync"]),f="".concat(t.path).concat(o);return console.log("Creating route for ".concat(f)),i().createElement(A,(0,r.__assign)({path:f,exact:s,component:c,key:a,title:u,isAsync:l,underlyingProps:e,url:t.url},d))})),i().createElement(S.c5,{title:"404 Page Not Found"}))},C=function(){var e=(0,k.useAuth)(),t=(0,v.useHistory)(),n=(0,k.useConfig)(),s=function(){var e=(0,k.useConfig)(),t=(0,k.useAuth)(),n=(0,a.useState)(),i=n[0],o=n[1],s=(0,v.useParams)().id;return(0,a.useEffect)((function(){(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return void 0===t||void 0===e?[2]:[4,t.kas.getToken()];case 1:n=r.sent(),a=new g.DefaultApi({accessToken:n,basePath:e.kas.apiBasePath||""}),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,a.getKafkaById(s)];case 3:return i=r.sent(),o(i.data),[3,5];case 4:return r.sent(),o(!1),[3,5];case 5:return[2]}}))}))}),[t,e,s]),i?{kafkaDetail:i,adminServerUrl:_(i)}:i}(),c=(0,a.useState)(),u=c[0],l=c[1],d=(0,a.useState)(),f=d[0],m=d[1],p=(0,a.useState)(""),S=p[0],P=p[1];if(null==n?void 0:n.serviceDown)return i().createElement(h.dB,null);if(void 0===s)return i().createElement(E.AppServicesLoading,null);if(!1===s)throw new Error("404");var w=s.kafkaDetail,A=s.adminServerUrl,C={kafkaPageLink:t.createHref({pathname:"/streams/kafkas"}),kafkaInstanceLink:t.createHref({pathname:"/streams/kafkas/".concat(w.id,"/topics")}),showMetrics:i().createElement(h.PS,{kafkaId:w.id,kafkaAdminUrl:A}),onError:function(e){l(e)},kafkaName:w.name,apiBasePath:A,getToken:null==e?void 0:e.kafka.getToken,handleInstanceDrawer:function(e,t){t&&P(t),m(e)},showSchemas:i().createElement(y.vJ,null),kafka:w,redirectAfterDeleteInstance:function(){t.push("/streams/kafkas")}};return 401===u?i().createElement(h.Xx,null):i().createElement("div",{className:"app-services-ui--u-display-contents","data-ouia-app-id":"dataPlane-streams"},i().createElement(b.w,{kafkaInstance:w},i().createElement(o.oY,{isExpanded:f,onClose:function(){m(!1)},kafkaDetail:w,activeTab:S},i().createElement(T,(0,r.__assign)({},C)))))};var I=n(23587);function R(e){var t=e.accessToken,n=e.basePath;return(0,r.__awaiter)(this,void 0,Promise,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,new I.TopicsApi(new g.Configuration({accessToken:t,basePath:n})).getTopics(void 0,100,100,void 0,void 0,void 0,void 0)];case 1:return[2,(e.sent().data.items||[]).map((function(e){return e.name}))]}}))}))}function O(e){var t=e.accessToken,n=e.basePath,a=e.kafkaId,i=e.duration,o=e.interval,s=e.selectedTopic;return(0,r.__awaiter)(this,void 0,Promise,(function(){var e,c,u,l,d,f,m,p;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,new g.DefaultApi(new g.Configuration({accessToken:t,basePath:n})).getMetricsByRangeQuery(a,i,o,["kafka_server_brokertopicmetrics_bytes_in_total","kafka_server_brokertopicmetrics_bytes_out_total","kafka_topic:kafka_log_log_size:sum","kafka_server_brokertopicmetrics_messages_in_total"])];case 1:return e=r.sent(),c=(e.data.items||[]).filter((function(e){return!(e.values&&e.metric&&e.metric.topic&&e.metric.name)})),u=c.filter((function(e){var t;return void 0===s||(null===(t=e.metric)||void 0===t?void 0:t.topic)===s})),l=Array.from(new Set(c.map((function(e){return e.metric.topic})))),d={},f={},m={},p={},u.forEach((function(e){var t,n=e.metric,r=n.__name__,a=n.topic;function i(t){e.values.forEach((function(e){var n=e.value,r=e.timestamp;return t[r]=n+(t[r]||0)}))}switch(r){case"kafka_server_brokertopicmetrics_bytes_in_total":i(d);break;case"kafka_server_brokertopicmetrics_bytes_out_total":i(f);break;case"kafka_topic:kafka_log_log_size:sum":t=m[a]||{},e.values.forEach((function(e){var n=e.value,r=e.timestamp;return t[r]=n+(t[r]||0)})),m[a]=t;break;case"kafka_server_brokertopicmetrics_messages_in_total":i(p)}})),[2,{metricsTopics:l,bytesOutgoing:f,bytesIncoming:d,bytesPerPartition:m,incomingMessageRate:p}]}}))}))}var B=function(e){var t=e.kafkaId,n=e.kafkaAdminUrl,o=(0,k.useAuth)(),s=(0,v.useHistory)(),c=(0,k.useConfig)(),u=((0,k.useBasename)()||{}).getBasename,l=u&&u(),d=(0,a.useCallback)((function(e){return function(e){var t=e.kafkaId,n=e.duration,a=e.interval,i=e.accessToken,o=e.basePath;return(0,r.__awaiter)(this,void 0,Promise,(function(){var e,s,c,u,l;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,new g.DefaultApi(new g.Configuration({accessToken:i,basePath:o})).getMetricsByRangeQuery(t,n,a,["kubelet_volume_stats_used_bytes","kafka_namespace:kafka_server_socket_server_metrics_connection_creation_rate:sum","kafka_namespace:kafka_server_socket_server_metrics_connection_count:sum"])];case 1:return e=r.sent(),s=(e.data.items||[]).filter((function(e){return!(e.values&&e.metric&&e.metric.topic&&e.metric.name&&e.metric.persistentvolumeclaim&&e.metric.persistentvolumeclaim.includes("zookeeper"))})),c={},u={},l={},s.forEach((function(e){function t(t){e.values.forEach((function(e){var n=e.value,r=e.timestamp;return t[r]=n+(t[r]||0)}))}switch(e.metric.__name__){case"kubelet_volume_stats_used_bytes":t(c);break;case"kafka_namespace:kafka_server_socket_server_metrics_connection_creation_rate:sum":t(u);break;case"kafka_namespace:kafka_server_socket_server_metrics_connection_count:sum":t(l)}})),[2,{usedDiskSpaceMetrics:c,clientConnectionsMetrics:l,connectionAttemptRateMetrics:u}]}}))}))}((0,r.__assign)((0,r.__assign)({},e),{kafkaId:t,basePath:c.kas.apiBasePath,accessToken:null==o?void 0:o.kas.getToken()}))}),[null==o?void 0:o.kas,c.kas.apiBasePath,t]),f=(0,a.useCallback)((function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var a,i,s,u,l,d,f,m;return(0,r.__generator)(this,(function(p){switch(p.label){case 0:return[4,Promise.all([R({accessToken:null==o?void 0:o.kafka.getToken(),basePath:n}),O((0,r.__assign)((0,r.__assign)({},e),{kafkaId:t,basePath:c.kas.apiBasePath,accessToken:null==o?void 0:o.kas.getToken()}))])];case 1:return a=p.sent(),i=a[0],s=a[1],u=s.metricsTopics,l=s.bytesIncoming,d=s.bytesOutgoing,f=s.bytesPerPartition,m=s.incomingMessageRate,[2,{kafkaTopics:i,metricsTopics:u,bytesIncoming:l,bytesOutgoing:d,bytesPerPartition:f,incomingMessageRate:m}]}}))}))}),[null==o?void 0:o.kafka,null==o?void 0:o.kas,c.kas.apiBasePath,n,t]),m=(0,a.useCallback)((function(){return function(e){var t=e.accessToken,n=e.basePath,a=e.kafkaId;return(0,r.__awaiter)(this,void 0,Promise,(function(){var e,i,o,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=new g.DefaultApi(new g.Configuration({accessToken:t,basePath:n})),i=0,o=0,s=0,[4,e.getMetricsByInstantQuery(a,["kafka_topic:kafka_topic_partitions:sum","kafka_topic:kafka_topic_partitions:count","consumergroup:kafka_consumergroup_members:count"])];case 1:return(r.sent().data.items||[]).forEach((function(e){var t=e.metric,n=e.value;switch(t.__name__){case"kafka_topic:kafka_topic_partitions:sum":o=n;break;case"kafka_topic:kafka_topic_partitions:count":i=n;break;case"consumergroup:kafka_consumergroup_members:count":s=n}})),[2,{consumerGroups:s,topicPartitions:o,topics:i}]}}))}))}({kafkaId:t,basePath:c.kas.apiBasePath,accessToken:null==o?void 0:o.kas.getToken()})}),[null==o?void 0:o.kas,c.kas.apiBasePath,t]);return void 0===c?i().createElement(E.AppServicesLoading,null):i().createElement(E.Metrics,{onCreateTopic:function(){s.push("".concat(l,"/topic/create"))},getTopicsMetrics:f,getKafkaInstanceMetrics:d,getMetricsKpi:m})}},88530:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(75418),a=n.n(r),i=n(7451),o=n(38955),s=n(98307),c=n(86437),u=n(12853),l=n(84875);const d=function(){var e=(0,i.useConfig)(),t=(0,l.t)(),n=(0,c.fA)(null===i.ProductType||void 0===i.ProductType?void 0:i.ProductType.kas).getQuota,r=(0,c.UI)({eventCode:t.kafka.ams.termsAndConditionsEventCode,siteCode:t.kafka.ams.termsAndConditionsSiteCode}),d=r.preCreateInstance,f=r.shouldOpenCreateModal,m=(0,c.NG)().getTokenEndPointUrl,p=(0,s.jg)().getAllUserAccounts;return a().createElement(s.IG,{scope:"kas",module:"./OpenshiftStreams",fallback:a().createElement(u.AppServicesLoading,null),render:function(t){return(null==e?void 0:e.serviceDown)?a().createElement(o.d,null):a().createElement(i.QuotaContext.Provider,{value:{getQuota:n}},a().createElement(t,{preCreateInstance:d,shouldOpenCreateModal:f,tokenEndPointUrl:m(),getAllUserAccounts:p}))}})}},45294:(e,t,n)=>{n.r(t),n.d(t,{NotFoundPage:()=>s,default:()=>c});var r=n(75418),a=n(48418),i=n(99421),o=n(68199),s=function(){return r.createElement(i.PageSection,null,r.createElement(i.EmptyState,{variant:"full"},r.createElement(i.EmptyStateIcon,{icon:a.ExclamationTriangleIcon}),r.createElement(i.Title,{headingLevel:"h1",size:"lg"},"404 Page not found"),r.createElement(i.EmptyStateBody,null,"We didn't find a page that matches the address you navigated to."),r.createElement((function(){var e=(0,o.useHistory)();return r.createElement(i.Button,{onClick:function(){e.push("/")}},"Take me home")}),null)))};const c=s},69372:(e,t,n)=>{n.r(t),n.d(t,{ConnectedOverviewPage:()=>o,default:()=>s});var r=n(12853),a=n(75418),i=n.n(a),o=function(){var e=location.pathname.startsWith("/beta")?"/service-registry":"/beta/application-services/service-registry";return i().createElement(r.OverviewPage,{toKafkaHref:"/streams/kafkas",toServiceRegistryHref:e})};const s=o},91285:(e,t,n)=>{n.r(t),n.d(t,{ResourcesPage:()=>s,default:()=>c});var r=n(75418),a=n.n(r),i=n(98307),o=n(12853),s=function(){return a().createElement(i.IG,{scope:"guides",module:"./QuickStartCatalog",fallback:a().createElement(o.AppServicesLoading,null),render:function(e){return a().createElement(e,null)}})};const c=s},80140:(e,t,n)=>{n.r(t),n.d(t,{ServiceAccountsPage:()=>u,default:()=>l});var r=n(75418),a=n.n(r),i=n(98307),o=n(7451),s=n(38955),c=n(12853),u=function(){var e=(0,o.useConfig)();return a().createElement(i.IG,{scope:"kas",module:"./ServiceAccounts",fallback:a().createElement(c.AppServicesLoading,null),render:function(t){return(null==e?void 0:e.serviceDown)?a().createElement(s.d,null):a().createElement(t,null)}})};const l=u},38955:(e,t,n)=>{n.d(t,{d:()=>c});var r=n(75418),a=n.n(r),i=n(2112),o=n(99421),s=n(41970),c=function(){var e=(0,s.useTranslation)(["appTemporaryFixMe"]).t;return a().createElement(o.PageSection,null,a().createElement(o.EmptyState,{variant:"full"},a().createElement(o.EmptyStateIcon,{icon:i.ZP}),a().createElement(o.Title,{headingLevel:"h1",size:"lg"},e("serviceDown.serviceDownTitle")),a().createElement(o.EmptyStateBody,null,e("serviceDown.serviceDownMessage")),a().createElement(o.Button,{variant:"primary",onClick:function(){window.location.href="https://status.starter.openshift.com/"}},e("serviceDown.serviceDownButton"))))}},64765:(e,t,n)=>{n.r(t),n.d(t,{ArtifactVersionDetails:()=>l,default:()=>f});var r=n(75418),a=n.n(r),i=n(68199),o=n(17631),s=n(48844),c=n(7451),u=n(23173),l=function(){var e=(0,c.useConfig)();return(null==e?void 0:e.serviceDown)?a().createElement(u.dB,null):a().createElement(d,null)},d=function(){var e=(0,i.useParams)().artifactId;return a().createElement(s.q,{breadcrumbId:"srs.artifacts_details",artifactId:e,render:function(e){return a().createElement(o.P,{registry:e,module:"./FederatedArtifactVersionPage"})}})};const f=l},13117:(e,t,n)=>{n.r(t),n.d(t,{Artifacts:()=>u,default:()=>d});var r=n(17631),a=n(75418),i=n.n(a),o=n(48844),s=n(7451),c=n(23173),u=function(){var e=(0,s.useConfig)();return(null==e?void 0:e.serviceDown)?i().createElement(c.dB,null):i().createElement(l,null)},l=function(){return i().createElement(o.q,{breadcrumbId:"srs.artifacts",render:function(e){return i().createElement(r.P,{module:"./FederatedArtifactsPage",registry:e})}})};const d=u},29913:(e,t,n)=>{n.r(t),n.d(t,{ArtifactRedirect:()=>u,default:()=>d});var r=n(17631),a=n(75418),i=n.n(a),o=n(48844),s=n(7451),c=n(23173),u=function(){var e=(0,s.useConfig)();return(null==e?void 0:e.serviceDown)?i().createElement(c.dB,null):i().createElement(l,null)},l=function(){return i().createElement(o.q,{render:function(e){return i().createElement(r.P,{registry:e,module:"./FederatedArtifactRedirectPage"})}})};const d=u},68789:(e,t,n)=>{n.d(t,{c:()=>o});var r=n(75418),a=n.n(r),i=n(17631),o=function(e){var t=e.registry,n=e.downloadLabel;return a().createElement(i.P,{module:"./FederatedDownloadArtifacts",registry:t,fileName:t.name,downloadLinkLabel:n})}},17631:(e,t,n)=>{n.d(t,{P:()=>l});var r=n(70655),a=n(75418),i=n.n(a),o=n(98307),s=n(68199),c=n(7451),u=n(12853),l=function(e){var t,n,a=e.module,l=e.registry,d=(0,r.__rest)(e,["module","registry"]),f=(0,c.useAuth)(),m=(0,c.useConfig)(),p=(0,s.useHistory)(),v=(0,c.useBasename)(),h=null==f?void 0:f.apicurio_registry.getToken,g=(null==f?void 0:f.getUsername())||"",k=(0,s.useParams)(),_=k.groupId,b=k.artifactId,E=k.version,y=(0,o.jg)().getAllPrincipals;if(void 0===m||void 0===l)return i().createElement(u.AppServicesLoading,null);var S=null===(t=y())||void 0===t?void 0:t.filter((function(e){return e.id!==g&&e.id!==(null==l?void 0:l.owner)}));return h&&v&&(n=function(e,t,n,r,a){return{artifacts:{url:"".concat(t,"/apis/registry")},auth:{type:"gettoken",getToken:r},features:{readOnly:!1,breadcrumbs:!1,roleManagement:!0,multiTenant:!0},ui:{navPrefixPath:n},principals:a}}(0,l.registryUrl,"".concat(v.getBasename(),"/t/").concat(null==l?void 0:l.id),h,S)),i().createElement(o.IG,{scope:"apicurio_registry",module:a,fallback:i().createElement(u.AppServicesLoading,null),render:function(e){return i().createElement(e,(0,r.__assign)({config:n,tenantId:l.id,groupId:_,artifactId:b,version:E,history:p},d))}})}},31841:(e,t,n)=>{n.r(t),n.d(t,{RulesPage:()=>u,default:()=>d});var r=n(17631),a=n(75418),i=n.n(a),o=n(48844),s=n(7451),c=n(23173),u=function(){var e=(0,s.useConfig)();return(null==e?void 0:e.serviceDown)?i().createElement(c.dB,null):i().createElement(l,null)},l=function(){return i().createElement(o.q,{breadcrumbId:"srs.global_rules",render:function(e){return i().createElement(r.P,{registry:e,module:"./FederatedRulesPage"})}})};const d=u},62655:(e,t,n)=>{n.r(t),n.d(t,{ServiceRegistryPage:()=>f,ServiceRegistryPageConnected:()=>m,default:()=>p});var r=n(75418),a=n.n(r),i=n(7451),o=n(98307),s=n(23173),c=n(86437),u=n(12853),l=n(68789),d=n(84875),f=function(){var e=(0,i.useConfig)();return(null==e?void 0:e.serviceDown)?a().createElement(s.dB,null):a().createElement(m,null)},m=function(){var e=(0,i.useConfig)(),t=(0,d.t)(),n=(0,c.fA)(i.ProductType.srs).getQuota,r=(0,c.UI)({eventCode:t.serviceRegistry.ams.termsAndConditionsEventCode,siteCode:t.serviceRegistry.ams.termsAndConditionsSiteCode}),s=r.preCreateInstance,f=r.shouldOpenCreateModal,m=(0,c.NG)().getTokenEndPointUrl;return void 0===e?a().createElement(u.AppServicesLoading,null):a().createElement(u.DevelopmentPreview,null,a().createElement(o.IG,{scope:"srs",module:"./ServiceRegistry",fallback:a().createElement(u.AppServicesLoading,null),render:function(e){return a().createElement(i.QuotaContext.Provider,{value:{getQuota:n}},a().createElement(o.A6,null,a().createElement(e,{preCreateInstance:s,shouldOpenCreateModal:f,tokenEndPointUrl:m(),renderDownloadArtifacts:function(e,t){return a().createElement(l.c,{registry:e,downloadLabel:t})}})))}}))};const p=f},48844:(e,t,n)=>{n.d(t,{q:()=>u});var r=n(75418),a=n.n(r),i=n(98307),o=n(12853),s=n(86437),c=n(68789),u=function(e){var t=e.render,n=e.breadcrumbId,r=e.artifactId,u=(0,s.NG)().getTokenEndPointUrl;return a().createElement(i.IG,{scope:"srs",module:"./ApicurioRegistry",fallback:a().createElement(o.AppServicesLoading,null),render:function(e){return a().createElement(i.A6,null,a().createElement(e,{render:t,breadcrumbId:n,tokenEndPointUrl:u(),artifactId:r,renderDownloadArtifacts:function(e,t){return a().createElement(c.c,{registry:e,downloadLabel:t})}}))}})}},63564:(e,t,n)=>{n.d(t,{vJ:()=>u});n(13117),n(29913),n(64765),n(31841),n(62655);var r=n(75418),a=n.n(r),i=n(68199),o=n(17631),s=n(98307),c=n(12853),u=function(){var e=(0,i.useParams)().topicName,t="/service-registry";return a().createElement(a().Fragment,null,a().createElement(s.IG,{scope:"srs",module:"./ServiceRegistryMapping",fallback:a().createElement(c.AppServicesLoading,null),render:function(n){return a().createElement(n,{basename:t,topicName:e,renderSchema:function(n){return a().createElement(o.P,{module:"./FederatedSchemaMapping",registry:n,topicName:e,groupId:null,version:"latest",registryId:null==n?void 0:n.id,basename:t})}})}}))}},23173:(e,t,n)=>{n.d(t,{Xx:()=>u,cQ:()=>l.cQ,PS:()=>l.PS,Jh:()=>l.Jh,EP:()=>l.EP,A:()=>l.A,dB:()=>d.d,nT:()=>l.nT,Fn:()=>l.Fn,dS:()=>l.dS});var r=n(75418),a=n.n(r),i=n(56670),o=n(41970),s=n(68199),c=function(e){var t=e.href,n=e.children;return a().createElement(s.Link,{to:t||""},n)},u=function(){var e=(0,o.useTranslation)(["appTemporaryFixMe"]).t,t=a().createElement(o.Trans,{i18nKey:"accessdenied.accessDeniedDescription",t:e,components:[a().createElement(c,{key:"kafkas",href:"/streams/kafkas"})]});return a().createElement(i.Main,null,a().createElement(i.NotAuthorized,{title:e("accessdenied.accessDeniedTitle"),description:t,prevPageButtonText:e("accessdenied.accessDeniedButtonText"),showReturnButton:!0}))},l=(n(15447),n(44055),n(62808),n(16627)),d=(n(88530),n(45294),n(69372),n(91285),n(80140),n(38955));n(63564)},36004:(e,t,n)=>{n.d(t,{N:()=>d});var r=n(70655),a=n(75418),i=n.n(a),o=n(7451);const s=JSON.parse('{"Q":{"kas":{"basePath":"http://localhost:9000","fallbackBasePath":"/beta/apps/rhosak-control-plane-ui-build"},"kafka":{"basePath":"http://localhost:8080","fallbackBasePath":"/beta/apps/rhosak-data-plane-ui-build"},"guides":{"basePath":"http://localhost:9001","fallbackBasePath":"/beta/apps/rhoas-guides-build"},"apicurio_registry":{"basePath":"http://localhost:8888","fallbackBasePath":"/beta/apps/sr-ui-build"},"srs":{"basePath":"http://localhost:9005","fallbackBasePath":"/beta/apps/srs-ui-build"},"cos":{"basePath":"http://localhost:9002","fallbackBasePath":"/beta/apps/cos-ui-build"}},"v":[{"hostnames":["prod.foo.redhat.com"],"fetchConfig":true,"type":"proxy","config":{"serviceDown":false,"guides":{"showDrafts":false},"ams":{"apiBasePath":"https://api.stage.openshift.com"},"kas":{"apiBasePath":"https://api.stage.openshift.com"},"kafka":{},"masSso":{"authServerUrl":"https://identity.api.stage.openshift.com/auth","clientId":"strimzi-ui","realm":"rhoas"},"apicurio_registry":{"apiBasePath":""},"rbac":{"basePath":"/api/rbac/v1"},"srs":{"apiBasePath":"https://api.stage.openshift.com"},"cos":{"apiBasePath":"https://cos-fleet-manager-cos.rh-fuse-153f1de160110098c1928a6c05e19444-0000.eu-de.containers.appdomain.cloud","configurators":{"debezium-mongodb-1.5.0.Final":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"},"debezium-mysql-1.5.0.Final":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"},"debezium-postgres-1.5.0.Final":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"}}}}},{"hostnames":["qaprodauth.cloud.redhat.com","qaprodauth.console.redhat.com"],"config":{"serviceDown":false,"guides":{"showDrafts":true},"ams":{"apiBasePath":"https://api.stage.openshift.com"},"kas":{"apiBasePath":"https://api.stage.openshift.com"},"kafka":{},"masSso":{"authServerUrl":"https://identity.api.stage.openshift.com/auth","clientId":"strimzi-ui","realm":"rhoas"},"apicurio_registry":{"apiBasePath":""},"srs":{"apiBasePath":"https://api.stage.openshift.com"},"rbac":{"basePath":"/api/rbac/v1"},"cos":{"apiBasePath":"https://cos-fleet-manager-cos.rh-fuse-153f1de160110098c1928a6c05e19444-0000.eu-de.containers.appdomain.cloud","configurators":{"debezium-mongodb-1.5.0.Final":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"},"debezium-mysql-1.5.0.Final":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"},"debezium-postgres-1.5.0.Final":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"}}}}},{"hostnames":["cloud.redhat.com","console.redhat.com"],"config":{"serviceDown":false,"guides":{"showDrafts":false},"ams":{"apiBasePath":"https://api.openshift.com"},"kas":{"apiBasePath":"https://api.openshift.com"},"kafka":{},"masSso":{"authServerUrl":"https://identity.api.openshift.com/auth","clientId":"strimzi-ui","realm":"rhoas"},"apicurio_registry":{"apiBasePath":""},"srs":{"apiBasePath":"https://api.openshift.com"},"rbac":{"basePath":"/api/rbac/v1"},"cos":{"apiBasePath":"https://api.openshift.com","configurators":{"debezium-mongodb-1.5.0.Final":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"},"debezium-mysql-1.5.0.Final":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"},"debezium-postgres-1.5.0.Final":{"remoteEntry":"/beta/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js","scope":"debezium_ui","module":"./config"}}}}}]}');var c=function(e){var t=window.location.hostname;console.log("Filter config for ".concat(t));var n=e.filter((function(e){return e.hostnames.includes(t)}));if(n.length>1)throw new Error("Unable to find config for ".concat(t,", more than one config matched ").concat(n));if(n.length<1){var r=e.filter((function(e){return e.hostnames.includes("console.redhat.com")}));if(r.length>1)throw new Error("Unable to load default config, more than one config matched ".concat(n));if(r.length<1)throw new Error("Unable to load default config, no configs matched");return r[0]}return n[0]},u=function(e,t,n){var a={};return Object.entries(t).forEach((function(t){var r=t[0],i=t[1],o=i.basePath,s=void 0;"proxy"!==e.type?o=i.fallbackBasePath:s=i.fallbackBasePath,n||(o.startsWith("/beta")&&(o=o.substring(5)),(null==s?void 0:s.startsWith("/beta"))&&(s=s.substring(5))),a[r]={basePath:o,fallbackBasePath:s}})),(0,r.__assign)((0,r.__assign)({},e.config),{federatedModules:a})},l=n(77463),d=function(e){var t=e.children,a=(0,l.gV)().beta,d=i().useState((function(){var e=c(s.v);if(!e.fetchConfig){var t=u(e,s.Q,a);return console.log("Done loading config",t),t}})),f=d[0],m=d[1];return i().useEffect((function(){(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e,t,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return void 0!==f?[3,3]:[4,fetch("".concat(n.p,"config.json"))];case 1:return[4,r.sent().json()];case 2:e=r.sent(),t=c(e.config),i=u(t,e.federatedModules,a),console.debug("Done loading config",i),m(i),r.label=3;case 3:return[2]}}))}))}),[]),i().createElement(o.ConfigContext.Provider,{value:f},t)}},84875:(e,t,n)=>{n.d(t,{A:()=>a,t:()=>i});var r=n(75418),a=n.n(r)().createContext(void 0),i=function(){var e=(0,r.useContext)(a);if(void 0===e)throw new Error("useConstants must be used inside an ServiceConstantsContextProvider");return e}},9933:(e,t,n)=>{n.d(t,{B:()=>s});var r=n(75418),a=n.n(r),i=n(84875);const o=JSON.parse('{"version":1,"kafka":{"ams":{"termsAndConditionsEventCode":"register","termsAndConditionsSiteCode":"ocm","instanceQuotaId":"cluster|rhinfra|rhosak|marketplace","trialQuotaId":"cluster|rhinfra|rhosaktrial|marketplace"}},"serviceRegistry":{"ams":{"termsAndConditionsEventCode":"register","termsAndConditionsSiteCode":"ocm","instanceQuotaId":"cluster|rhinfra|rhosr|any","trialQuotaId":"cluster|rhinfra|rhosrtrial|any"}}}');var s=function(e){var t=e.children;return a().createElement(i.A.Provider,{value:o},t)}},77463:(e,t,n)=>{n.d(t,{gV:()=>o,O1:()=>s});var r=n(75418),a=n.n(r),i=a().createContext(void 0),o=function(){var e=(0,r.useContext)(i);if(void 0===e)throw new Error("useFeatureFlags must be used inside a FeatureFlagContext provider");return e},s=function(e){var t=e.children,n={beta:window.location.pathname.startsWith("/beta")};return a().createElement(i.Provider,{value:n},t)}},68587:(e,t,n)=>{n.d(t,{S1:()=>u});var r,a=n(70655),i=n(39133),o=n(68573),s=n.n(o),c=n(83215);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r||(r=new i.ZP({},(0,a.__spreadArray)([s()],e,!0))).register({notifications:c.ee}),r}},62579:(e,t,n)=>{n.d(t,{bi:()=>d,c5:()=>f,SV:()=>m});var r,a=n(70655),i=n(75418),o=n.n(i),s=n(68199),c=n(35145),u=n(19581),l=o().lazy((function(){return Promise.resolve().then(n.bind(n,45294))})),d=function(e){var t=(0,u.useLastLocation)();o().useEffect((function(){return e||null===t||(r=(0,c.mh)()),function(){window.clearTimeout(r)}}),[e,t])},f=function(e){var t=e.title;return(0,c.jr)(t),o().createElement(s.Route,{component:l})},m=function(e){return e.reduce((function(e,t){return(0,a.__spreadArray)((0,a.__spreadArray)([],e,!0),t.routes?t.routes:[t],!0)}),[])}},71987:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){var t="/",n=e.split("/");return n.shift(),"beta"===n[0]&&(n.shift(),t="/beta/"),"".concat(t).concat(n[0])}},35145:(e,t,n)=>{function r(){return window.setTimeout((function(){var e=document.getElementById("primary-app-container");e&&e.focus()}),50)}n.d(t,{mh:()=>r,jW:()=>y,hP:()=>b,Nn:()=>h,jr:()=>i});var a=n(75418);function i(e){a.useEffect((function(){var t=document.title;return document.title=e,function(){document.title=t}}),[e])}var o=n(70655),s=n(53336),c=n.n(s),u=n(54191),l=n.n(u),d=n(23931),f=n(89053),m=n.n(f),p=n(42902),v="mrt",h=function(e,t){return(0,o.__awaiter)(void 0,void 0,Promise,(function(){var n,r,a,i,s,u,l,d;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n={responseMode:"query",enableLogging:!1},[4,g(t)];case 1:return void 0===(r=o.sent())||void 0===e.url?[3,6]:(a=y(e.url,e.realm),(i=new URLSearchParams).append("grant_type","refresh_token"),i.append("refresh_token",r),i.append("client_id",e.clientId),[4,fetch(a,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i})]);case 2:return 200!==(s=o.sent()).status?[3,4]:(console.debug("found valid access token"),[4,s.json()]);case 3:return u=o.sent(),l=u.access_token,n.token=l,n.refreshToken=r,[3,5];case 4:console.debug("error getting access token from endpoint"),n.onLoad="login-required",o.label=5;case 5:return[3,7];case 6:new URLSearchParams(window.location.search).has("state")||(console.debug("did not find refresh token, will require a full login"),n.onLoad="login-required"),o.label=7;case 7:return[4,(d=c()(e)).init(n)];case 8:return o.sent(),d.refreshToken?[4,_(d.refreshToken,t)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[2,d]}}))}))},g=function(e){return(0,o.__awaiter)(void 0,void 0,Promise,(function(){var t,n,r,a,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(void 0===(t=l().get(v)))return[2,void 0];n=d.Base64.decode(t),r=JSON.parse(n);try{a=m()(r.refreshToken)}catch(e){return k(),[2,void 0]}return void 0===a||void 0===a.exp||(0,p.Z)(new Date)>a.exp+50?(k(),[2,void 0]):[4,e()];case 1:return i=o.sent(),m()(i).account_id!==r.rhUserId?(k(),[2,void 0]):[2,r.refreshToken]}}))}))},k=function(){console.debug("clearing stored refresh token"),l().remove(v)},_=function(e,t){return(0,o.__awaiter)(void 0,void 0,void 0,(function(){var n,r,a,i,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,t()];case 1:return n=o.sent(),r=m()(n),a=r.account_id,i=JSON.stringify({refreshToken:e,rhUserId:a}),s=d.Base64.encode(i),console.debug("storing refresh token"),l().set(v,s),[2]}}))}))},b=function(e,t){return(0,o.__awaiter)(void 0,void 0,Promise,(function(){var n,r,a,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,e.updateToken(50)];case 1:if(o.sent(),!e.token||!e.tokenParsed)throw new Error("No token from keycloak!");return[4,t()];case 2:return n=o.sent(),r=m()(n),a=r.account_id,i=e.tokenParsed["rh-user-id"],a===i?[3,4]:(console.debug("Triggering MASSSO logout because sso.redhat.com account_id claim does not match the MASSSO rh-user-id claim. account_id: ".concat(a,", rh-user-id ").concat(i)),[4,E(e)]);case 3:return o.sent(),[2,""];case 4:return e.refreshToken?[4,_(e.refreshToken,t)]:[3,6];case 5:o.sent(),o.label=6;case 6:return[2,e.token]}}))}))},E=function(e){return(0,o.__awaiter)(void 0,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return e?(console.debug("Performing MASSSO logout"),[4,e.logout()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},y=function(e,t){return"".concat(e,"/realms/").concat(t,"/protocol/openid-connect/token")}}}]);
//# sourceMappingURL=8007.a0743bcfc3a5b399e123.js.map